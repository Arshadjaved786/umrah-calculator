{"ast":null,"code":"import _objectSpread from\"C:/Users/Taj Tech/Downloads/umrah-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/TicketsVisa.jsx\nimport React,{useEffect,useRef,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{getAllAirlines}from\"../services/airlineService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const STORAGE_KEY=\"umrah_airline_search\";export default function TicketsVisa(_ref){let{pax,setPax,ticketPrice,setTicketPrice,ticketCurrency,setTicketCurrency,defaultVisaSAR,setDefaultVisaSAR,transportTotal,setTransportTotal,rates,setRates,profit,setProfit,profitCurrency,setProfitCurrency,// now coming from parent:\nselectedAirline,setSelectedAirline,vehicle,setVehicle}=_ref;// helper to use visa value\nconst visaVal=defaultVisaSAR;const handleNum=function(setter){let min=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return e=>{const v=e.target.value===\"\"?\"\":Number(e.target.value);if(v===\"\")return setter(\"\");setter(Math.max(min,Number(v)));};};// --- Airline dropdown state (local UI) ---\nconst[airlines,setAirlines]=useState([]);const[airlineQuery,setAirlineQuery]=useState(\"\");const[showList,setShowList]=useState(false);const dropdownRef=useRef(null);const navigate=useNavigate();// TRANSPORT sector fields local state\nconst[s1,setS1]=useState(\"\");// JED-MAK\nconst[s2,setS2]=useState(\"\");// MAK-MED\nconst[s3,setS3]=useState(\"\");// MED-MAK\nconst[s4,setS4]=useState(\"\");// MAK-JED\nconst[autoTotal,setAutoTotal]=useState(true);const[manualTotal,setManualTotal]=useState(\"\");// Local fallback for profit values handled by parent props (already present)\nuseEffect(()=>{loadAirlines();// init airlineQuery from localStorage if present\nconst initial=localStorage.getItem(STORAGE_KEY);if(initial)setAirlineQuery(initial);// storage listener for sync\nfunction onStorage(e){if(e.key===STORAGE_KEY){const val=e.newValue||\"\";if(val!==airlineQuery)setAirlineQuery(val);}}window.addEventListener(\"storage\",onStorage);function onCustom(e){const val=e&&e.detail||\"\";if(val!==airlineQuery)setAirlineQuery(val);}window.addEventListener(\"airlineSearch\",onCustom);// click outside to close\nfunction handleClick(e){if(!dropdownRef.current)return;if(!dropdownRef.current.contains(e.target)){setShowList(false);}}document.addEventListener(\"click\",handleClick);return()=>{window.removeEventListener(\"storage\",onStorage);window.removeEventListener(\"airlineSearch\",onCustom);document.removeEventListener(\"click\",handleClick);};// eslint-disable-next-line\n},[]);useEffect(()=>{try{localStorage.setItem(STORAGE_KEY,airlineQuery);}catch(err){console.error(\"Failed to write search to localStorage\",err);}const ev=new CustomEvent(\"airlineSearch\",{detail:airlineQuery});window.dispatchEvent(ev);},[airlineQuery]);function loadAirlines(){try{const all=getAllAirlines();setAirlines(all||[]);}catch(err){console.error(\"Failed to load airlines\",err);setAirlines([]);}}const filtered=airlines.filter(a=>{const q=airlineQuery.trim().toLowerCase();if(!q)return true;return a.name.toLowerCase().includes(q)||a.code.toLowerCase().includes(q);});function handleSelectAirline(a){// use parent setter\nsetSelectedAirline(a);setAirlineQuery(\"\".concat(a.name,\" (\").concat(a.code,\")\"));setShowList(false);}function clearSelectedAirline(){setSelectedAirline(null);setAirlineQuery(\"\");}function openManageAirlinesPage(){navigate(\"/manage-airlines\");}// Transport auto-sum effect\nuseEffect(()=>{if(autoTotal){const sum=(Number(s1)||0)+(Number(s2)||0)+(Number(s3)||0)+(Number(s4)||0);setTransportTotal(Number(sum));setManualTotal(\"\");// clear manual if auto\n}else{if(manualTotal!==\"\"){setTransportTotal(Number(manualTotal)||0);}}},[s1,s2,s3,s4,autoTotal,manualTotal,setTransportTotal]);// Small helper: convert profit (in selected currency) to SAR using rates\nfunction profitToSAR(amount,currency){const a=Number(amount)||0;if(!a)return 0;if(!rates)return a;// fallback\nif(currency===\"SAR\")return a;if(currency===\"USD\"){return a*Number(rates.USD_to_SAR||3.75);}if(currency===\"PKR\"){const pkrPerSar=Number(rates.SAR_to_PKR||75);return a/pkrPerSar;}return a;}// Expose a small preview: visa (SAR) + profit converted (SAR) shown to user\nconst visaNumber=Number(visaVal)||0;const profitNumber=Number(profit)||0;const profitInSAR=profitToSAR(profitNumber,profitCurrency);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 rounded-xl shadow-lg mt-0 bg-gradient-to-br from-indigo-50 via-white to-pink-50 border border-transparent bg-white/60 backdrop-blur-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-xl bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-pink-500 to-purple-600\",children:\"Tickets & Transport\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4 md:items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600\",children:\"Pax\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:pax,onChange:e=>{const v=e.target.value===\"\"?\"\":Number(e.target.value);setPax(v===\"\"?\"\":Math.max(1,v));},className:\"p-2 border rounded-lg w-24 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-auto\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600\",children:\"Airline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 md:flex-row md:items-center\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full md:w-64\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:airlineQuery,onChange:e=>{setAirlineQuery(e.target.value);setShowList(true);},onFocus:()=>setShowList(true),placeholder:\"Search airline by name or code (e.g. PIA)\",className:\"p-2 border rounded-lg w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-200\",\"aria-label\":\"Search airline\"}),showList&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute left-0 right-0 mt-1 bg-white border rounded-lg max-h-48 overflow-auto shadow-lg z-30\",children:[filtered.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-sm text-gray-500\",children:\"No airlines found\"}),filtered.map(a=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleSelectAirline(a),className:\"w-full text-left px-3 py-2 hover:bg-indigo-50 flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-sm\",children:a.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Code: \",a.code]})]})},a.id))]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:openManageAirlinesPage,title:\"Manage Airlines\",className:\"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm shadow-sm hover:opacity-95 transition\",children:\"Manage\"})})]}),selectedAirline&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-700\",children:[\"Selected Airline: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedAirline.name}),\" (\",selectedAirline.code,\")\",\" \",/*#__PURE__*/_jsx(\"button\",{onClick:clearSelectedAirline,className:\"ml-2 text-xs text-indigo-600\",type:\"button\",children:\"Clear\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600\",children:\"Ticket\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:ticketPrice,onChange:e=>setTicketPrice(e.target.value===\"\"?\"\":Number(e.target.value)),className:\"p-2 border rounded-lg w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-200\"}),/*#__PURE__*/_jsxs(\"select\",{value:ticketCurrency,onChange:e=>setTicketCurrency(e.target.value),className:\"p-2 border rounded-lg w-full md:w-20 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"SAR\",children:\"SAR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PKR\",children:\"PKR\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-6 gap-3 mt-3 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs invisible\",children:\".\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:s1,onChange:e=>setS1(e.target.value===\"\"?\"\":Number(e.target.value)),placeholder:\"JED \\u2192 MAK\",className:\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\",min:0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs invisible\",children:\".\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:s2,onChange:e=>setS2(e.target.value===\"\"?\"\":Number(e.target.value)),placeholder:\"MAK \\u2192 MED\",className:\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\",min:0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs invisible\",children:\".\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:s3,onChange:e=>setS3(e.target.value===\"\"?\"\":Number(e.target.value)),placeholder:\"MED \\u2192 MAK\",className:\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\",min:0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs invisible\",children:\".\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:s4,onChange:e=>setS4(e.target.value===\"\"?\"\":Number(e.target.value)),placeholder:\"MAK \\u2192 JED\",className:\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\",min:0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col md:flex-row md:items-center gap-2\",children:/*#__PURE__*/_jsxs(\"select\",{value:vehicle,onChange:e=>setVehicle(e.target.value),className:\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"CAR\",children:\"CAR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"H1\",children:\"H1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GMC\",children:\"GMC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HIACE\",children:\"HIACE\"}),/*#__PURE__*/_jsx(\"option\",{value:\"COASTER\",children:\"COASTER\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"autoTotal\",checked:autoTotal,onChange:e=>setAutoTotal(e.target.checked),className:\"h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:autoTotal?transportTotal||0:manualTotal,onChange:e=>{const val=e.target.value===\"\"?\"\":Number(e.target.value);setManualTotal(val===\"\"?\"\":Number(val));if(!autoTotal){setTransportTotal(val===\"\"?0:Number(val));}},placeholder:\"Total\",className:\"p-2 border rounded-lg w-full text-sm mt-2 md:mt-0 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\",min:0})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 flex flex-col md:flex-row items-start md:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-medium text-gray-700\",children:\"Visa (SAR)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:visaVal,onChange:e=>setDefaultVisaSAR(e.target.value===\"\"?\"\":Number(e.target.value)),className:\"p-2 border rounded-lg w-full md:w-32 shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-medium text-gray-700\",children:\"Profit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:profit,onChange:e=>setProfit(e.target.value===\"\"?\"\":Number(e.target.value)),className:\"p-2 border rounded-lg w-full md:w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-100\",placeholder:\"amount\",min:0}),/*#__PURE__*/_jsxs(\"select\",{value:profitCurrency,onChange:e=>setProfitCurrency(e.target.value),className:\"p-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-100\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"SAR\",children:\"SAR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PKR\",children:\"PKR\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-700 whitespace-nowrap\",children:\"Currency Rates:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600 whitespace-nowrap\",children:\"1 SAR = PKR\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:rates.SAR_to_PKR,onChange:e=>setRates(s=>_objectSpread(_objectSpread({},s),{},{SAR_to_PKR:Number(e.target.value)})),className:\"p-2 border rounded-lg w-full md:w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600 whitespace-nowrap\",children:\"1 USD = SAR\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:rates.USD_to_SAR,onChange:e=>setRates(s=>_objectSpread(_objectSpread({},s),{},{USD_to_SAR:Number(e.target.value)})),className:\"p-2 border rounded-lg w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"})]})]})]})})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","getAllAirlines","jsx","_jsx","jsxs","_jsxs","STORAGE_KEY","TicketsVisa","_ref","pax","setPax","ticketPrice","setTicketPrice","ticketCurrency","setTicketCurrency","defaultVisaSAR","setDefaultVisaSAR","transportTotal","setTransportTotal","rates","setRates","profit","setProfit","profitCurrency","setProfitCurrency","selectedAirline","setSelectedAirline","vehicle","setVehicle","visaVal","handleNum","setter","min","arguments","length","undefined","e","v","target","value","Number","Math","max","airlines","setAirlines","airlineQuery","setAirlineQuery","showList","setShowList","dropdownRef","navigate","s1","setS1","s2","setS2","s3","setS3","s4","setS4","autoTotal","setAutoTotal","manualTotal","setManualTotal","loadAirlines","initial","localStorage","getItem","onStorage","key","val","newValue","window","addEventListener","onCustom","detail","handleClick","current","contains","document","removeEventListener","setItem","err","console","error","ev","CustomEvent","dispatchEvent","all","filtered","filter","a","q","trim","toLowerCase","name","includes","code","handleSelectAirline","concat","clearSelectedAirline","openManageAirlinesPage","sum","profitToSAR","amount","currency","USD_to_SAR","pkrPerSar","SAR_to_PKR","visaNumber","profitNumber","profitInSAR","className","children","type","onChange","ref","onFocus","placeholder","map","onClick","id","title","checked","s","_objectSpread"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/components/TicketsVisa.jsx"],"sourcesContent":["// src/components/TicketsVisa.jsx\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { getAllAirlines } from \"../services/airlineService\";\r\n\r\nconst STORAGE_KEY = \"umrah_airline_search\";\r\n\r\nexport default function TicketsVisa({\r\n  pax,\r\n  setPax,\r\n  ticketPrice,\r\n  setTicketPrice,\r\n  ticketCurrency,\r\n  setTicketCurrency,\r\n  defaultVisaSAR,\r\n  setDefaultVisaSAR,\r\n  transportTotal,\r\n  setTransportTotal,\r\n  rates,\r\n  setRates,\r\n  profit,\r\n  setProfit,\r\n  profitCurrency,\r\n  setProfitCurrency,\r\n  // now coming from parent:\r\n  selectedAirline,\r\n  setSelectedAirline,\r\n  vehicle,\r\n  setVehicle,\r\n}) {\r\n  // helper to use visa value\r\n  const visaVal = defaultVisaSAR;\r\n\r\n  const handleNum =\r\n    (setter, min = 0) =>\r\n    (e) => {\r\n      const v = e.target.value === \"\" ? \"\" : Number(e.target.value);\r\n      if (v === \"\") return setter(\"\");\r\n      setter(Math.max(min, Number(v)));\r\n    };\r\n\r\n  // --- Airline dropdown state (local UI) ---\r\n  const [airlines, setAirlines] = useState([]);\r\n  const [airlineQuery, setAirlineQuery] = useState(\"\");\r\n  const [showList, setShowList] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  // TRANSPORT sector fields local state\r\n  const [s1, setS1] = useState(\"\"); // JED-MAK\r\n  const [s2, setS2] = useState(\"\"); // MAK-MED\r\n  const [s3, setS3] = useState(\"\"); // MED-MAK\r\n  const [s4, setS4] = useState(\"\"); // MAK-JED\r\n\r\n  const [autoTotal, setAutoTotal] = useState(true);\r\n  const [manualTotal, setManualTotal] = useState(\"\");\r\n\r\n  // Local fallback for profit values handled by parent props (already present)\r\n\r\n  useEffect(() => {\r\n    loadAirlines();\r\n\r\n    // init airlineQuery from localStorage if present\r\n    const initial = localStorage.getItem(STORAGE_KEY);\r\n    if (initial) setAirlineQuery(initial);\r\n\r\n    // storage listener for sync\r\n    function onStorage(e) {\r\n      if (e.key === STORAGE_KEY) {\r\n        const val = e.newValue || \"\";\r\n        if (val !== airlineQuery) setAirlineQuery(val);\r\n      }\r\n    }\r\n    window.addEventListener(\"storage\", onStorage);\r\n\r\n    function onCustom(e) {\r\n      const val = (e && e.detail) || \"\";\r\n      if (val !== airlineQuery) setAirlineQuery(val);\r\n    }\r\n    window.addEventListener(\"airlineSearch\", onCustom);\r\n\r\n    // click outside to close\r\n    function handleClick(e) {\r\n      if (!dropdownRef.current) return;\r\n      if (!dropdownRef.current.contains(e.target)) {\r\n        setShowList(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"click\", handleClick);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", onStorage);\r\n      window.removeEventListener(\"airlineSearch\", onCustom);\r\n      document.removeEventListener(\"click\", handleClick);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, airlineQuery);\r\n    } catch (err) {\r\n      console.error(\"Failed to write search to localStorage\", err);\r\n    }\r\n    const ev = new CustomEvent(\"airlineSearch\", { detail: airlineQuery });\r\n    window.dispatchEvent(ev);\r\n  }, [airlineQuery]);\r\n\r\n  function loadAirlines() {\r\n    try {\r\n      const all = getAllAirlines();\r\n      setAirlines(all || []);\r\n    } catch (err) {\r\n      console.error(\"Failed to load airlines\", err);\r\n      setAirlines([]);\r\n    }\r\n  }\r\n\r\n  const filtered = airlines.filter((a) => {\r\n    const q = airlineQuery.trim().toLowerCase();\r\n    if (!q) return true;\r\n    return a.name.toLowerCase().includes(q) || a.code.toLowerCase().includes(q);\r\n  });\r\n\r\n  function handleSelectAirline(a) {\r\n    // use parent setter\r\n    setSelectedAirline(a);\r\n    setAirlineQuery(`${a.name} (${a.code})`);\r\n    setShowList(false);\r\n  }\r\n\r\n  function clearSelectedAirline() {\r\n    setSelectedAirline(null);\r\n    setAirlineQuery(\"\");\r\n  }\r\n\r\n  function openManageAirlinesPage() {\r\n    navigate(\"/manage-airlines\");\r\n  }\r\n\r\n  // Transport auto-sum effect\r\n  useEffect(() => {\r\n    if (autoTotal) {\r\n      const sum =\r\n        (Number(s1) || 0) +\r\n        (Number(s2) || 0) +\r\n        (Number(s3) || 0) +\r\n        (Number(s4) || 0);\r\n      setTransportTotal(Number(sum));\r\n      setManualTotal(\"\"); // clear manual if auto\r\n    } else {\r\n      if (manualTotal !== \"\") {\r\n        setTransportTotal(Number(manualTotal) || 0);\r\n      }\r\n    }\r\n  }, [s1, s2, s3, s4, autoTotal, manualTotal, setTransportTotal]);\r\n\r\n  // Small helper: convert profit (in selected currency) to SAR using rates\r\n  function profitToSAR(amount, currency) {\r\n    const a = Number(amount) || 0;\r\n    if (!a) return 0;\r\n    if (!rates) return a; // fallback\r\n    if (currency === \"SAR\") return a;\r\n    if (currency === \"USD\") {\r\n      return a * Number(rates.USD_to_SAR || 3.75);\r\n    }\r\n    if (currency === \"PKR\") {\r\n      const pkrPerSar = Number(rates.SAR_to_PKR || 75);\r\n      return a / pkrPerSar;\r\n    }\r\n    return a;\r\n  }\r\n\r\n  // Expose a small preview: visa (SAR) + profit converted (SAR) shown to user\r\n  const visaNumber = Number(visaVal) || 0;\r\n  const profitNumber = Number(profit) || 0;\r\n  const profitInSAR = profitToSAR(profitNumber, profitCurrency);\r\n\r\n  return (\r\n    <div className=\"p-5 rounded-xl shadow-lg mt-0 bg-gradient-to-br from-indigo-50 via-white to-pink-50 border border-transparent bg-white/60 backdrop-blur-md\">\r\n      <h3 className=\"font-semibold mb-3 text-xl bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-pink-500 to-purple-600\">\r\n        Tickets & Transport\r\n      </h3>\r\n\r\n      {/* Pax + Ticket Price */}\r\n      <div className=\"flex flex-col md:flex-row gap-4 md:items-center\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-600\">Pax</label>\r\n          <input\r\n            type=\"number\"\r\n            value={pax}\r\n            onChange={(e) => {\r\n              const v = e.target.value === \"\" ? \"\" : Number(e.target.value);\r\n              setPax(v === \"\" ? \"\" : Math.max(1, v));\r\n            }}\r\n            className=\"p-2 border rounded-lg w-24 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-200\"\r\n          />\r\n        </div>\r\n\r\n        {/* --- AIRLINE SELECT --- */}\r\n        <div className=\"w-full md:w-auto\">\r\n          <label className=\"block text-sm font-medium text-gray-600\">\r\n            Airline\r\n          </label>\r\n\r\n          <div\r\n            className=\"flex flex-col gap-2 md:flex-row md:items-center\"\r\n            ref={dropdownRef}\r\n          >\r\n            <div className=\"relative w-full md:w-64\">\r\n              <input\r\n                type=\"text\"\r\n                value={airlineQuery}\r\n                onChange={(e) => {\r\n                  setAirlineQuery(e.target.value);\r\n                  setShowList(true);\r\n                }}\r\n                onFocus={() => setShowList(true)}\r\n                placeholder=\"Search airline by name or code (e.g. PIA)\"\r\n                className=\"p-2 border rounded-lg w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-200\"\r\n                aria-label=\"Search airline\"\r\n              />\r\n\r\n              {showList && (\r\n                <div className=\"absolute left-0 right-0 mt-1 bg-white border rounded-lg max-h-48 overflow-auto shadow-lg z-30\">\r\n                  {filtered.length === 0 && (\r\n                    <div className=\"p-3 text-sm text-gray-500\">\r\n                      No airlines found\r\n                    </div>\r\n                  )}\r\n\r\n                  {filtered.map((a) => (\r\n                    <button\r\n                      type=\"button\"\r\n                      key={a.id}\r\n                      onClick={() => handleSelectAirline(a)}\r\n                      className=\"w-full text-left px-3 py-2 hover:bg-indigo-50 flex items-center justify-between\"\r\n                    >\r\n                      <div>\r\n                        <div className=\"font-medium text-sm\">{a.name}</div>\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          Code: {a.code}\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Manage */}\r\n            <div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={openManageAirlinesPage}\r\n                title=\"Manage Airlines\"\r\n                className=\"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm shadow-sm hover:opacity-95 transition\"\r\n              >\r\n                Manage\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {selectedAirline && (\r\n            <div className=\"mt-2 text-sm text-gray-700\">\r\n              Selected Airline: <strong>{selectedAirline.name}</strong> (\r\n              {selectedAirline.code}){\" \"}\r\n              <button\r\n                onClick={clearSelectedAirline}\r\n                className=\"ml-2 text-xs text-indigo-600\"\r\n                type=\"button\"\r\n              >\r\n                Clear\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-600\">\r\n            Ticket\r\n          </label>\r\n          <div className=\"flex gap-2 items-center flex-shrink-0\">\r\n            <input\r\n              type=\"number\"\r\n              value={ticketPrice}\r\n              onChange={(e) =>\r\n                setTicketPrice(\r\n                  e.target.value === \"\" ? \"\" : Number(e.target.value)\r\n                )\r\n              }\r\n              className=\"p-2 border rounded-lg w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-200\"\r\n            />\r\n            <select\r\n              value={ticketCurrency}\r\n              onChange={(e) => setTicketCurrency(e.target.value)}\r\n              className=\"p-2 border rounded-lg w-full md:w-20 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-200\"\r\n            >\r\n              <option value=\"SAR\">SAR</option>\r\n              <option value=\"USD\">USD</option>\r\n              <option value=\"PKR\">PKR</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Transport */}\r\n      <div className=\"mt-4\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-6 gap-3 mt-3 items-center\">\r\n          {/* S1 */}\r\n          <div>\r\n            <label className=\"text-xs invisible\">.</label>\r\n            <input\r\n              type=\"number\"\r\n              value={s1}\r\n              onChange={(e) =>\r\n                setS1(e.target.value === \"\" ? \"\" : Number(e.target.value))\r\n              }\r\n              placeholder=\"JED → MAK\"\r\n              className=\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              min={0}\r\n            />\r\n          </div>\r\n\r\n          {/* S2 */}\r\n          <div>\r\n            <label className=\"text-xs invisible\">.</label>\r\n            <input\r\n              type=\"number\"\r\n              value={s2}\r\n              onChange={(e) =>\r\n                setS2(e.target.value === \"\" ? \"\" : Number(e.target.value))\r\n              }\r\n              placeholder=\"MAK → MED\"\r\n              className=\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              min={0}\r\n            />\r\n          </div>\r\n\r\n          {/* S3 */}\r\n          <div>\r\n            <label className=\"text-xs invisible\">.</label>\r\n            <input\r\n              type=\"number\"\r\n              value={s3}\r\n              onChange={(e) =>\r\n                setS3(e.target.value === \"\" ? \"\" : Number(e.target.value))\r\n              }\r\n              placeholder=\"MED → MAK\"\r\n              className=\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              min={0}\r\n            />\r\n          </div>\r\n\r\n          {/* S4 */}\r\n          <div>\r\n            <label className=\"text-xs invisible\">.</label>\r\n            <input\r\n              type=\"number\"\r\n              value={s4}\r\n              onChange={(e) =>\r\n                setS4(e.target.value === \"\" ? \"\" : Number(e.target.value))\r\n              }\r\n              placeholder=\"MAK → JED\"\r\n              className=\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              min={0}\r\n            />\r\n          </div>\r\n\r\n          {/* Vehicle (now from parent) */}\r\n          <div className=\"flex flex-col md:flex-row md:items-center gap-2\">\r\n            <select\r\n              value={vehicle}\r\n              onChange={(e) => setVehicle(e.target.value)}\r\n              className=\"p-2 border rounded-lg w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n            >\r\n              <option value=\"CAR\">CAR</option>\r\n              <option value=\"H1\">H1</option>\r\n              <option value=\"GMC\">GMC</option>\r\n              <option value=\"HIACE\">HIACE</option>\r\n              <option value=\"COASTER\">COASTER</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Auto Total */}\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"autoTotal\"\r\n                checked={autoTotal}\r\n                onChange={(e) => setAutoTotal(e.target.checked)}\r\n                className=\"h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500\"\r\n              />\r\n            </div>\r\n\r\n            <input\r\n              type=\"number\"\r\n              value={autoTotal ? transportTotal || 0 : manualTotal}\r\n              onChange={(e) => {\r\n                const val = e.target.value === \"\" ? \"\" : Number(e.target.value);\r\n                setManualTotal(val === \"\" ? \"\" : Number(val));\r\n                if (!autoTotal) {\r\n                  setTransportTotal(val === \"\" ? 0 : Number(val));\r\n                }\r\n              }}\r\n              placeholder=\"Total\"\r\n              className=\"p-2 border rounded-lg w-full text-sm mt-2 md:mt-0 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              min={0}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Visa + Profit (NEW) */}\r\n      <div className=\"mt-5 flex flex-col md:flex-row items-start md:items-center gap-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"font-medium text-gray-700\">Visa (SAR)</label>\r\n          <input\r\n            type=\"number\"\r\n            value={visaVal}\r\n            onChange={(e) =>\r\n              setDefaultVisaSAR(\r\n                e.target.value === \"\" ? \"\" : Number(e.target.value)\r\n              )\r\n            }\r\n            className=\"p-2 border rounded-lg w-full md:w-32 shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-100\"\r\n          />\r\n        </div>\r\n\r\n        {/* NEW: Profit input */}\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"font-medium text-gray-700\">Profit</label>\r\n\r\n          <input\r\n            type=\"number\"\r\n            value={profit}\r\n            onChange={(e) =>\r\n              setProfit(e.target.value === \"\" ? \"\" : Number(e.target.value))\r\n            }\r\n            className=\"p-2 border rounded-lg w-full md:w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-100\"\r\n            placeholder=\"amount\"\r\n            min={0}\r\n          />\r\n\r\n          <select\r\n            value={profitCurrency}\r\n            onChange={(e) => setProfitCurrency(e.target.value)}\r\n            className=\"p-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-100\"\r\n          >\r\n            <option value=\"SAR\">SAR</option>\r\n            <option value=\"USD\">USD</option>\r\n            <option value=\"PKR\">PKR</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Currency Rates */}\r\n      <div className=\"mt-5\">\r\n        <div className=\"flex flex-col md:flex-row gap-6\">\r\n          <h4 className=\"font-medium text-gray-700 whitespace-nowrap\">\r\n            Currency Rates:\r\n          </h4>\r\n\r\n          <div className=\"flex flex-col md:flex-row gap-6\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <label className=\"text-sm text-gray-600 whitespace-nowrap\">\r\n                1 SAR = PKR\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={rates.SAR_to_PKR}\r\n                onChange={(e) =>\r\n                  setRates((s) => ({\r\n                    ...s,\r\n                    SAR_to_PKR: Number(e.target.value),\r\n                  }))\r\n                }\r\n                className=\"p-2 border rounded-lg w-full md:w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <label className=\"text-sm text-gray-600 whitespace-nowrap\">\r\n                1 USD = SAR\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={rates.USD_to_SAR}\r\n                onChange={(e) =>\r\n                  setRates((s) => ({\r\n                    ...s,\r\n                    USD_to_SAR: Number(e.target.value),\r\n                  }))\r\n                }\r\n                className=\"p-2 border rounded-lg w-28 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}