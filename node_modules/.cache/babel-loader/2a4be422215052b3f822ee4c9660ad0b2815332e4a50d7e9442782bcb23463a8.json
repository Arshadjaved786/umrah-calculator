{"ast":null,"code":"import _objectSpread from\"C:/Users/Taj Tech/Downloads/umrah-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/HotelManager.jsx\nimport React,{useState,useMemo,useEffect}from\"react\";import{getMakkahHotels,getMadinahHotels,addMakkahHotel,updateMakkahHotel,deleteMakkahHotel,addMadinahHotel,updateMadinahHotel,deleteMadinahHotel}from\"../services/hotelService\";/**\r\n * HotelManager\r\n * Props:\r\n * - open (bool) : show modal\r\n * - setOpen (fn) : toggle modal\r\n * - makkahList, madinahList (arrays) : current lists (for display)\r\n * - refreshMakkah(), refreshMadinah() : callbacks to refresh parent lists after changes\r\n *\r\n * Note:\r\n * - یہ فائل صرف HotelManager کمپوننٹ رکھتی ہے۔\r\n * - جو اضافی یا غیر متعلقہ کوڈ پہلے یہاں شامل تھا، وہ ہٹا دیا گیا ہے۔\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function HotelManager(_ref){let{open,setOpen,makkahList=[],madinahList=[],refreshMakkah,refreshMadinah}=_ref;const[editorCity,setEditorCity]=useState(\"Makkah\");const[editorMode,setEditorMode]=useState(\"add\");// add / edit\nconst[filterQuery,setFilterQuery]=useState(\"\");const[editorDraft,setEditorDraft]=useState({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,// default 0\nweekendPrice:\"\"// empty so fallback possible\n});// --------------------------\n// Auto-fill from TripPlanner saved keys\n// --------------------------\n// This effect runs:\n// - on mount (so it works if HotelManager is a route/page)\n// - when `open` changes (so it works if HotelManager is a modal)\nuseEffect(()=>{try{// read Makkah keys (TripPlanner onAccept saves these)\nconst mN=localStorage.getItem(\"umrah_makkah_nights\");const mWN=localStorage.getItem(\"umrah_makkah_weekend_nights\")||localStorage.getItem(\"umrah_makkah_weekendNights\")||null;const mP=localStorage.getItem(\"umrah_makkah_price\");const mWP=localStorage.getItem(\"umrah_makkah_weekend_price\");// read Madinah keys\nconst dN=localStorage.getItem(\"umrah_madinah_nights\");const dWN=localStorage.getItem(\"umrah_madinah_weekend_nights\")||localStorage.getItem(\"umrah_madinah_weekendNights\")||null;const dP=localStorage.getItem(\"umrah_madinah_price\");const dWP=localStorage.getItem(\"umrah_madinah_weekend_price\");// If Makkah values exist, prefill editorDraft for Makkah\nif(mN!==null||mWN!==null||mP!==null||mWP!==null){setEditorDraft(prev=>_objectSpread(_objectSpread({},prev),{},{// Only override the fields we have; preserve others.\nnights:mN!==null&&mN!==\"\"?Number(mN):prev.nights,pricePerNight:mP!==null&&mP!==\"\"?Number(mP):prev.pricePerNight,weekendNights:mWN!==null&&mWN!==\"\"?Number(mWN):prev.weekendNights,weekendPrice:mWP!==null&&mWP!==\"\"?mWP===\"\"?\"\":Number(mWP):prev.weekendPrice}));setEditorCity(\"Makkah\");setEditorMode(\"edit\");}// If Madinah values exist, prefill editorDraft for Madinah as well\nif(dN!==null||dWN!==null||dP!==null||dWP!==null){setEditorDraft(prev=>_objectSpread(_objectSpread({},prev),{},{nights:prev.nights===undefined||prev.nights===\"\"||prev.nights===null?dN!==null&&dN!==\"\"?Number(dN):prev.nights:prev.nights,pricePerNight:prev.pricePerNight===\"\"||prev.pricePerNight===undefined?dP!==null&&dP!==\"\"?Number(dP):prev.pricePerNight:prev.pricePerNight,weekendNights:prev.weekendNights===undefined||prev.weekendNights===null?dWN!==null&&dWN!==\"\"?Number(dWN):prev.weekendNights:prev.weekendNights,weekendPrice:prev.weekendPrice===\"\"||prev.weekendPrice===undefined?dWP!==null&&dWP!==\"\"?dWP===\"\"?\"\":Number(dWP):prev.weekendPrice:prev.weekendPrice}));// do not forcibly switch city here; user can open Madinah tab or choose Edit.\n}}catch(err){// fail silently but log for developer\n// eslint-disable-next-line no-console\nconsole.warn(\"HotelManager: failed to load saved plan keys\",err);}},[open]);// runs on mount and every time `open` changes\n// choose current list based on city\nconst currentList=editorCity===\"Makkah\"?makkahList:madinahList;const filtered=useMemo(()=>{const q=(filterQuery||\"\").trim().toLowerCase();if(!q)return currentList||[];return(currentList||[]).filter(h=>{if(h.name&&h.name.toLowerCase().includes(q))return true;if(h.distance&&h.distance.toLowerCase().includes(q))return true;const num=Number(q.replace(/[^\\d]/g,\"\"));if(!isNaN(num)&&num>0&&Number(h.stars)===num)return true;return false;});},[currentList,filterQuery]);const openAdd=city=>{setEditorCity(city);setEditorMode(\"add\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});};const openEdit=(city,hotel)=>{var _hotel$weekendNights,_hotel$weekendPrice;setEditorCity(city);setEditorMode(\"edit\");setEditorDraft({id:hotel.id,name:hotel.name||\"\",stars:hotel.stars||3,pricePerNight:hotel.pricePerNight||\"\",distance:hotel.distance||\"\",image:hotel.image||\"\",weekendNights:(_hotel$weekendNights=hotel.weekendNights)!==null&&_hotel$weekendNights!==void 0?_hotel$weekendNights:0,weekendPrice:(_hotel$weekendPrice=hotel.weekendPrice)!==null&&_hotel$weekendPrice!==void 0?_hotel$weekendPrice:\"\"});};const save=async()=>{if(!editorDraft.name||editorDraft.name.trim()===\"\"){alert(\"Hotel name required.\");return;}const payload={name:editorDraft.name.trim(),stars:Number(editorDraft.stars)||3,pricePerNight:editorDraft.pricePerNight===\"\"?0:Number(editorDraft.pricePerNight),distance:editorDraft.distance||\"\",image:editorDraft.image||\"\",weekendNights:Number(editorDraft.weekendNights)||0,weekendPrice:editorDraft.weekendPrice===\"\"?\"\":Number(editorDraft.weekendPrice)};if(editorMode===\"add\"){if(editorCity===\"Makkah\"){const res=await addMakkahHotel(payload);if(res.ok){await refreshMakkah();alert(\"Hotel added to Makkah.\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});}else alert(\"Unable to add.\");}else{const res=await addMadinahHotel(payload);if(res.ok){await refreshMadinah();alert(\"Hotel added to Madinah.\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});}else alert(\"Unable to add.\");}}else{if(!editorDraft.id){alert(\"Invalid hotel id.\");return;}if(editorCity===\"Makkah\"){const res=await updateMakkahHotel(editorDraft.id,payload);if(res.ok){await refreshMakkah();alert(\"Hotel updated.\");}else alert(\"Unable to update.\");}else{const res=await updateMadinahHotel(editorDraft.id,payload);if(res.ok){await refreshMadinah();alert(\"Hotel updated.\");}else alert(\"Unable to update.\");}}};const remove=async()=>{if(!editorDraft.id){alert(\"No hotel selected to delete.\");return;}if(!window.confirm(\"Are you sure to delete this hotel?\"))return;if(editorCity===\"Makkah\"){const res=await deleteMakkahHotel(editorDraft.id);if(res.ok){await refreshMakkah();alert(\"Deleted.\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});}else alert(\"Unable to delete.\");}else{const res=await deleteMadinahHotel(editorDraft.id);if(res.ok){await refreshMadinah();alert(\"Deleted.\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});}else alert(\"Unable to delete.\");}};if(!open)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-start justify-center pt-6 md:pt-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black opacity-40\",onClick:()=>setOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white w-[98%] sm:w-[95%] md:w-3/4 lg:w-1/2 max-h-[90vh] overflow-auto rounded shadow-lg p-4 z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg\",children:\"Manage Hotels\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center\",children:[/*#__PURE__*/_jsxs(\"select\",{value:editorCity,onChange:e=>setEditorCity(e.target.value),className:\"p-1 border rounded text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Makkah\",children:\"Makkah\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Madinah\",children:\"Madinah\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditorMode(\"add\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});},className:\"px-2 py-1 border rounded text-sm\",children:\"New\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpen(false),className:\"px-2 py-1 border rounded text-sm\",children:\"Close\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Filter list (name / star / distance)\",className:\"w-full p-2 border rounded text-sm\",value:filterQuery,onChange:e=>setFilterQuery(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-[45vh] overflow-auto pr-2\",children:filtered.map(h=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 border rounded flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-sm\",children:h.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[h.stars,\"\\u2605 \\u2014 \",h.distance,\" \\u2014 SAR \",h.pricePerNight]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 w-full sm:w-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEdit(editorCity,h),className:\"px-2 py-1 border rounded text-xs w-full sm:w-auto\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(!window.confirm(\"Delete this hotel?\"))return;if(editorCity===\"Makkah\"){const res=await deleteMakkahHotel(h.id);if(res.ok){await refreshMakkah();alert(\"Deleted.\");}else alert(\"Unable to delete.\");}else{const res=await deleteMadinahHotel(h.id);if(res.ok){await refreshMadinah();alert(\"Deleted.\");}else alert(\"Unable to delete.\");}},className:\"px-2 py-1 bg-red-500 text-white rounded text-xs\",children:\"Delete\"})]})]},h.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 text-sm font-medium\",children:editorMode===\"add\"?\"Add New Hotel\":\"Edit Hotel\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Hotel name\",value:editorDraft.name,onChange:e=>setEditorDraft(s=>_objectSpread(_objectSpread({},s),{},{name:e.target.value})),className:\"w-full p-2 border rounded mb-2 text-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-6 gap-2 mb-2\",children:[/*#__PURE__*/_jsxs(\"select\",{value:editorDraft.stars,onChange:e=>setEditorDraft(s=>_objectSpread(_objectSpread({},s),{},{stars:Number(e.target.value)})),className:\"p-2 border rounded text-sm w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5\\u2605\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"4\\u2605\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"3\\u2605\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2\\u2605\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1\\u2605\"})]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Price per night (SAR)\",value:editorDraft.pricePerNight,onChange:e=>setEditorDraft(s=>_objectSpread(_objectSpread({},s),{},{pricePerNight:e.target.value})),className:\"w-full p-2 border rounded text-sm sm:col-span-2\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Weekend night price (SAR)\",type:\"number\",min:0,value:editorDraft.weekendPrice,onChange:e=>setEditorDraft(s=>_objectSpread(_objectSpread({},s),{},{weekendPrice:e.target.value})),className:\"w-full p-2 border rounded text-sm sm:col-span-3\"})]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Distance (e.g., 350m)\",value:editorDraft.distance,onChange:e=>setEditorDraft(s=>_objectSpread(_objectSpread({},s),{},{distance:e.target.value})),className:\"w-full p-2 border rounded mb-2 text-sm\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Image path (optional)\",value:editorDraft.image,onChange:e=>setEditorDraft(s=>_objectSpread(_objectSpread({},s),{},{image:e.target.value})),className:\"w-full p-2 border rounded mb-2 text-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:save,className:\"px-3 py-1 bg-green-600 text-white rounded text-sm w-full sm:w-auto\",children:editorMode===\"add\"?\"Add Hotel\":\"Save Changes\"}),editorMode===\"edit\"&&/*#__PURE__*/_jsx(\"button\",{onClick:remove,className:\"px-3 py-1 bg-red-600 text-white rounded text-sm w-full sm:w-auto\",children:\"Delete Hotel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditorMode(\"add\");setEditorDraft({id:\"\",name:\"\",stars:3,pricePerNight:\"\",distance:\"\",image:\"\",weekendNights:0,weekendPrice:\"\"});},className:\"px-3 py-1 border rounded text-sm\",children:\"Reset\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-right\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpen(false),className:\"px-3 py-1 border rounded text-sm\",children:\"Close\"})})]})]});}","map":{"version":3,"names":["React","useState","useMemo","useEffect","getMakkahHotels","getMadinahHotels","addMakkahHotel","updateMakkahHotel","deleteMakkahHotel","addMadinahHotel","updateMadinahHotel","deleteMadinahHotel","jsx","_jsx","jsxs","_jsxs","HotelManager","_ref","open","setOpen","makkahList","madinahList","refreshMakkah","refreshMadinah","editorCity","setEditorCity","editorMode","setEditorMode","filterQuery","setFilterQuery","editorDraft","setEditorDraft","id","name","stars","pricePerNight","distance","image","weekendNights","weekendPrice","mN","localStorage","getItem","mWN","mP","mWP","dN","dWN","dP","dWP","prev","_objectSpread","nights","Number","undefined","err","console","warn","currentList","filtered","q","trim","toLowerCase","filter","h","includes","num","replace","isNaN","openAdd","city","openEdit","hotel","_hotel$weekendNights","_hotel$weekendPrice","save","alert","payload","res","ok","remove","window","confirm","className","children","onClick","value","onChange","e","target","placeholder","map","s","type","min"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/components/HotelManager.jsx"],"sourcesContent":["// src/components/HotelManager.jsx\r\nimport React, { useState, useMemo, useEffect } from \"react\";\r\nimport {\r\n  getMakkahHotels,\r\n  getMadinahHotels,\r\n  addMakkahHotel,\r\n  updateMakkahHotel,\r\n  deleteMakkahHotel,\r\n  addMadinahHotel,\r\n  updateMadinahHotel,\r\n  deleteMadinahHotel,\r\n} from \"../services/hotelService\";\r\n\r\n/**\r\n * HotelManager\r\n * Props:\r\n * - open (bool) : show modal\r\n * - setOpen (fn) : toggle modal\r\n * - makkahList, madinahList (arrays) : current lists (for display)\r\n * - refreshMakkah(), refreshMadinah() : callbacks to refresh parent lists after changes\r\n *\r\n * Note:\r\n * - یہ فائل صرف HotelManager کمپوننٹ رکھتی ہے۔\r\n * - جو اضافی یا غیر متعلقہ کوڈ پہلے یہاں شامل تھا، وہ ہٹا دیا گیا ہے۔\r\n */\r\n\r\nexport default function HotelManager({\r\n  open,\r\n  setOpen,\r\n  makkahList = [],\r\n  madinahList = [],\r\n  refreshMakkah,\r\n  refreshMadinah,\r\n}) {\r\n  const [editorCity, setEditorCity] = useState(\"Makkah\");\r\n  const [editorMode, setEditorMode] = useState(\"add\"); // add / edit\r\n  const [filterQuery, setFilterQuery] = useState(\"\");\r\n  const [editorDraft, setEditorDraft] = useState({\r\n    id: \"\",\r\n    name: \"\",\r\n    stars: 3,\r\n    pricePerNight: \"\",\r\n    distance: \"\",\r\n    image: \"\",\r\n    weekendNights: 0, // default 0\r\n    weekendPrice: \"\", // empty so fallback possible\r\n  });\r\n\r\n  // --------------------------\r\n  // Auto-fill from TripPlanner saved keys\r\n  // --------------------------\r\n  // This effect runs:\r\n  // - on mount (so it works if HotelManager is a route/page)\r\n  // - when `open` changes (so it works if HotelManager is a modal)\r\n  useEffect(() => {\r\n    try {\r\n      // read Makkah keys (TripPlanner onAccept saves these)\r\n      const mN = localStorage.getItem(\"umrah_makkah_nights\");\r\n      const mWN =\r\n        localStorage.getItem(\"umrah_makkah_weekend_nights\") ||\r\n        localStorage.getItem(\"umrah_makkah_weekendNights\") ||\r\n        null;\r\n      const mP = localStorage.getItem(\"umrah_makkah_price\");\r\n      const mWP = localStorage.getItem(\"umrah_makkah_weekend_price\");\r\n\r\n      // read Madinah keys\r\n      const dN = localStorage.getItem(\"umrah_madinah_nights\");\r\n      const dWN =\r\n        localStorage.getItem(\"umrah_madinah_weekend_nights\") ||\r\n        localStorage.getItem(\"umrah_madinah_weekendNights\") ||\r\n        null;\r\n      const dP = localStorage.getItem(\"umrah_madinah_price\");\r\n      const dWP = localStorage.getItem(\"umrah_madinah_weekend_price\");\r\n\r\n      // If Makkah values exist, prefill editorDraft for Makkah\r\n      if (mN !== null || mWN !== null || mP !== null || mWP !== null) {\r\n        setEditorDraft((prev) => ({\r\n          ...prev,\r\n          // Only override the fields we have; preserve others.\r\n          nights: mN !== null && mN !== \"\" ? Number(mN) : prev.nights,\r\n          pricePerNight:\r\n            mP !== null && mP !== \"\" ? Number(mP) : prev.pricePerNight,\r\n          weekendNights:\r\n            mWN !== null && mWN !== \"\" ? Number(mWN) : prev.weekendNights,\r\n          weekendPrice:\r\n            mWP !== null && mWP !== \"\"\r\n              ? mWP === \"\"\r\n                ? \"\"\r\n                : Number(mWP)\r\n              : prev.weekendPrice,\r\n        }));\r\n        setEditorCity(\"Makkah\");\r\n        setEditorMode(\"edit\");\r\n      }\r\n\r\n      // If Madinah values exist, prefill editorDraft for Madinah as well\r\n      if (dN !== null || dWN !== null || dP !== null || dWP !== null) {\r\n        setEditorDraft((prev) => ({\r\n          ...prev,\r\n          nights:\r\n            prev.nights === undefined ||\r\n            prev.nights === \"\" ||\r\n            prev.nights === null\r\n              ? dN !== null && dN !== \"\"\r\n                ? Number(dN)\r\n                : prev.nights\r\n              : prev.nights,\r\n          pricePerNight:\r\n            prev.pricePerNight === \"\" || prev.pricePerNight === undefined\r\n              ? dP !== null && dP !== \"\"\r\n                ? Number(dP)\r\n                : prev.pricePerNight\r\n              : prev.pricePerNight,\r\n          weekendNights:\r\n            prev.weekendNights === undefined || prev.weekendNights === null\r\n              ? dWN !== null && dWN !== \"\"\r\n                ? Number(dWN)\r\n                : prev.weekendNights\r\n              : prev.weekendNights,\r\n          weekendPrice:\r\n            prev.weekendPrice === \"\" || prev.weekendPrice === undefined\r\n              ? dWP !== null && dWP !== \"\"\r\n                ? dWP === \"\"\r\n                  ? \"\"\r\n                  : Number(dWP)\r\n                : prev.weekendPrice\r\n              : prev.weekendPrice,\r\n        }));\r\n        // do not forcibly switch city here; user can open Madinah tab or choose Edit.\r\n      }\r\n    } catch (err) {\r\n      // fail silently but log for developer\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\"HotelManager: failed to load saved plan keys\", err);\r\n    }\r\n  }, [open]); // runs on mount and every time `open` changes\r\n\r\n  // choose current list based on city\r\n  const currentList = editorCity === \"Makkah\" ? makkahList : madinahList;\r\n\r\n  const filtered = useMemo(() => {\r\n    const q = (filterQuery || \"\").trim().toLowerCase();\r\n    if (!q) return currentList || [];\r\n    return (currentList || []).filter((h) => {\r\n      if (h.name && h.name.toLowerCase().includes(q)) return true;\r\n      if (h.distance && h.distance.toLowerCase().includes(q)) return true;\r\n      const num = Number(q.replace(/[^\\d]/g, \"\"));\r\n      if (!isNaN(num) && num > 0 && Number(h.stars) === num) return true;\r\n      return false;\r\n    });\r\n  }, [currentList, filterQuery]);\r\n\r\n  const openAdd = (city) => {\r\n    setEditorCity(city);\r\n    setEditorMode(\"add\");\r\n    setEditorDraft({\r\n      id: \"\",\r\n      name: \"\",\r\n      stars: 3,\r\n      pricePerNight: \"\",\r\n      distance: \"\",\r\n      image: \"\",\r\n      weekendNights: 0,\r\n      weekendPrice: \"\",\r\n    });\r\n  };\r\n\r\n  const openEdit = (city, hotel) => {\r\n    setEditorCity(city);\r\n    setEditorMode(\"edit\");\r\n    setEditorDraft({\r\n      id: hotel.id,\r\n      name: hotel.name || \"\",\r\n      stars: hotel.stars || 3,\r\n      pricePerNight: hotel.pricePerNight || \"\",\r\n      distance: hotel.distance || \"\",\r\n      image: hotel.image || \"\",\r\n      weekendNights: hotel.weekendNights ?? 0,\r\n      weekendPrice: hotel.weekendPrice ?? \"\",\r\n    });\r\n  };\r\n\r\n  const save = async () => {\r\n    if (!editorDraft.name || editorDraft.name.trim() === \"\") {\r\n      alert(\"Hotel name required.\");\r\n      return;\r\n    }\r\n    const payload = {\r\n      name: editorDraft.name.trim(),\r\n      stars: Number(editorDraft.stars) || 3,\r\n      pricePerNight:\r\n        editorDraft.pricePerNight === \"\"\r\n          ? 0\r\n          : Number(editorDraft.pricePerNight),\r\n      distance: editorDraft.distance || \"\",\r\n      image: editorDraft.image || \"\",\r\n      weekendNights: Number(editorDraft.weekendNights) || 0,\r\n      weekendPrice:\r\n        editorDraft.weekendPrice === \"\" ? \"\" : Number(editorDraft.weekendPrice),\r\n    };\r\n    if (editorMode === \"add\") {\r\n      if (editorCity === \"Makkah\") {\r\n        const res = await addMakkahHotel(payload);\r\n        if (res.ok) {\r\n          await refreshMakkah();\r\n          alert(\"Hotel added to Makkah.\");\r\n          setEditorDraft({\r\n            id: \"\",\r\n            name: \"\",\r\n            stars: 3,\r\n            pricePerNight: \"\",\r\n            distance: \"\",\r\n            image: \"\",\r\n            weekendNights: 0,\r\n            weekendPrice: \"\",\r\n          });\r\n        } else alert(\"Unable to add.\");\r\n      } else {\r\n        const res = await addMadinahHotel(payload);\r\n        if (res.ok) {\r\n          await refreshMadinah();\r\n          alert(\"Hotel added to Madinah.\");\r\n          setEditorDraft({\r\n            id: \"\",\r\n            name: \"\",\r\n            stars: 3,\r\n            pricePerNight: \"\",\r\n            distance: \"\",\r\n            image: \"\",\r\n            weekendNights: 0,\r\n            weekendPrice: \"\",\r\n          });\r\n        } else alert(\"Unable to add.\");\r\n      }\r\n    } else {\r\n      if (!editorDraft.id) {\r\n        alert(\"Invalid hotel id.\");\r\n        return;\r\n      }\r\n      if (editorCity === \"Makkah\") {\r\n        const res = await updateMakkahHotel(editorDraft.id, payload);\r\n        if (res.ok) {\r\n          await refreshMakkah();\r\n          alert(\"Hotel updated.\");\r\n        } else alert(\"Unable to update.\");\r\n      } else {\r\n        const res = await updateMadinahHotel(editorDraft.id, payload);\r\n        if (res.ok) {\r\n          await refreshMadinah();\r\n          alert(\"Hotel updated.\");\r\n        } else alert(\"Unable to update.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const remove = async () => {\r\n    if (!editorDraft.id) {\r\n      alert(\"No hotel selected to delete.\");\r\n      return;\r\n    }\r\n    if (!window.confirm(\"Are you sure to delete this hotel?\")) return;\r\n\r\n    if (editorCity === \"Makkah\") {\r\n      const res = await deleteMakkahHotel(editorDraft.id);\r\n      if (res.ok) {\r\n        await refreshMakkah();\r\n        alert(\"Deleted.\");\r\n        setEditorDraft({\r\n          id: \"\",\r\n          name: \"\",\r\n          stars: 3,\r\n          pricePerNight: \"\",\r\n          distance: \"\",\r\n          image: \"\",\r\n          weekendNights: 0,\r\n          weekendPrice: \"\",\r\n        });\r\n      } else alert(\"Unable to delete.\");\r\n    } else {\r\n      const res = await deleteMadinahHotel(editorDraft.id);\r\n      if (res.ok) {\r\n        await refreshMadinah();\r\n        alert(\"Deleted.\");\r\n        setEditorDraft({\r\n          id: \"\",\r\n          name: \"\",\r\n          stars: 3,\r\n          pricePerNight: \"\",\r\n          distance: \"\",\r\n          image: \"\",\r\n          weekendNights: 0,\r\n          weekendPrice: \"\",\r\n        });\r\n      } else alert(\"Unable to delete.\");\r\n    }\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-start justify-center pt-6 md:pt-20\">\r\n      <div\r\n        className=\"absolute inset-0 bg-black opacity-40\"\r\n        onClick={() => setOpen(false)}\r\n      />\r\n      <div className=\"relative bg-white w-[98%] sm:w-[95%] md:w-3/4 lg:w-1/2 max-h-[90vh] overflow-auto rounded shadow-lg p-4 z-50\">\r\n        <div className=\"flex justify-between items-center mb-3\">\r\n          <h3 className=\"font-semibold text-lg\">Manage Hotels</h3>\r\n          <div className=\"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center\">\r\n            <select\r\n              value={editorCity}\r\n              onChange={(e) => setEditorCity(e.target.value)}\r\n              className=\"p-1 border rounded text-sm\"\r\n            >\r\n              <option value=\"Makkah\">Makkah</option>\r\n              <option value=\"Madinah\">Madinah</option>\r\n            </select>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setEditorMode(\"add\");\r\n                setEditorDraft({\r\n                  id: \"\",\r\n                  name: \"\",\r\n                  stars: 3,\r\n                  pricePerNight: \"\",\r\n                  distance: \"\",\r\n                  image: \"\",\r\n                  weekendNights: 0,\r\n                  weekendPrice: \"\",\r\n                });\r\n              }}\r\n              className=\"px-2 py-1 border rounded text-sm\"\r\n            >\r\n              New\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setOpen(false)}\r\n              className=\"px-2 py-1 border rounded text-sm\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n          <div>\r\n            <div className=\"mb-2\">\r\n              <input\r\n                placeholder=\"Filter list (name / star / distance)\"\r\n                className=\"w-full p-2 border rounded text-sm\"\r\n                value={filterQuery}\r\n                onChange={(e) => setFilterQuery(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2 max-h-[45vh] overflow-auto pr-2\">\r\n              {filtered.map((h) => (\r\n                <div\r\n                  key={h.id}\r\n                  className=\"p-2 border rounded flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2\"\r\n                >\r\n                  <div>\r\n                    <div className=\"font-medium text-sm\">{h.name}</div>\r\n                    <div className=\"text-xs text-gray-600\">\r\n                      {h.stars}★ — {h.distance} — SAR {h.pricePerNight}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2 w-full sm:w-auto\">\r\n                    <button\r\n                      onClick={() => openEdit(editorCity, h)}\r\n                      className=\"px-2 py-1 border rounded text-xs w-full sm:w-auto\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n\r\n                    <button\r\n                      onClick={async () => {\r\n                        if (!window.confirm(\"Delete this hotel?\")) return;\r\n                        if (editorCity === \"Makkah\") {\r\n                          const res = await deleteMakkahHotel(h.id);\r\n                          if (res.ok) {\r\n                            await refreshMakkah();\r\n                            alert(\"Deleted.\");\r\n                          } else alert(\"Unable to delete.\");\r\n                        } else {\r\n                          const res = await deleteMadinahHotel(h.id);\r\n                          if (res.ok) {\r\n                            await refreshMadinah();\r\n                            alert(\"Deleted.\");\r\n                          } else alert(\"Unable to delete.\");\r\n                        }\r\n                      }}\r\n                      className=\"px-2 py-1 bg-red-500 text-white rounded text-xs\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"mb-2 text-sm font-medium\">\r\n              {editorMode === \"add\" ? \"Add New Hotel\" : \"Edit Hotel\"}\r\n            </div>\r\n\r\n            <input\r\n              placeholder=\"Hotel name\"\r\n              value={editorDraft.name}\r\n              onChange={(e) =>\r\n                setEditorDraft((s) => ({ ...s, name: e.target.value }))\r\n              }\r\n              className=\"w-full p-2 border rounded mb-2 text-sm\"\r\n            />\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-6 gap-2 mb-2\">\r\n              <select\r\n                value={editorDraft.stars}\r\n                onChange={(e) =>\r\n                  setEditorDraft((s) => ({\r\n                    ...s,\r\n                    stars: Number(e.target.value),\r\n                  }))\r\n                }\r\n                className=\"p-2 border rounded text-sm w-full\"\r\n              >\r\n                <option value={5}>5★</option>\r\n                <option value={4}>4★</option>\r\n                <option value={3}>3★</option>\r\n                <option value={2}>2★</option>\r\n                <option value={1}>1★</option>\r\n              </select>\r\n\r\n              <input\r\n                placeholder=\"Price per night (SAR)\"\r\n                value={editorDraft.pricePerNight}\r\n                onChange={(e) =>\r\n                  setEditorDraft((s) => ({\r\n                    ...s,\r\n                    pricePerNight: e.target.value,\r\n                  }))\r\n                }\r\n                className=\"w-full p-2 border rounded text-sm sm:col-span-2\"\r\n              />\r\n\r\n              <input\r\n                placeholder=\"Weekend night price (SAR)\"\r\n                type=\"number\"\r\n                min={0}\r\n                value={editorDraft.weekendPrice}\r\n                onChange={(e) =>\r\n                  setEditorDraft((s) => ({\r\n                    ...s,\r\n                    weekendPrice: e.target.value,\r\n                  }))\r\n                }\r\n                className=\"w-full p-2 border rounded text-sm sm:col-span-3\"\r\n              />\r\n            </div>\r\n\r\n            <input\r\n              placeholder=\"Distance (e.g., 350m)\"\r\n              value={editorDraft.distance}\r\n              onChange={(e) =>\r\n                setEditorDraft((s) => ({ ...s, distance: e.target.value }))\r\n              }\r\n              className=\"w-full p-2 border rounded mb-2 text-sm\"\r\n            />\r\n\r\n            <input\r\n              placeholder=\"Image path (optional)\"\r\n              value={editorDraft.image}\r\n              onChange={(e) =>\r\n                setEditorDraft((s) => ({ ...s, image: e.target.value }))\r\n              }\r\n              className=\"w-full p-2 border rounded mb-2 text-sm\"\r\n            />\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-2\">\r\n              <button\r\n                onClick={save}\r\n                className=\"px-3 py-1 bg-green-600 text-white rounded text-sm w-full sm:w-auto\"\r\n              >\r\n                {editorMode === \"add\" ? \"Add Hotel\" : \"Save Changes\"}\r\n              </button>\r\n\r\n              {editorMode === \"edit\" && (\r\n                <button\r\n                  onClick={remove}\r\n                  className=\"px-3 py-1 bg-red-600 text-white rounded text-sm w-full sm:w-auto\"\r\n                >\r\n                  Delete Hotel\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => {\r\n                  setEditorMode(\"add\");\r\n                  setEditorDraft({\r\n                    id: \"\",\r\n                    name: \"\",\r\n                    stars: 3,\r\n                    pricePerNight: \"\",\r\n                    distance: \"\",\r\n                    image: \"\",\r\n                    weekendNights: 0,\r\n                    weekendPrice: \"\",\r\n                  });\r\n                }}\r\n                className=\"px-3 py-1 border rounded text-sm\"\r\n              >\r\n                Reset\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-3 text-right\">\r\n          <button\r\n            onClick={() => setOpen(false)}\r\n            className=\"px-3 py-1 border rounded text-sm\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}