{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Taj Tech\\\\Downloads\\\\umrah-calculator\\\\src\\\\components\\\\SavedPackages.jsx\",\n  _s = $RefreshSig$();\n// src/components/SavedPackages.jsx\nimport React, { useState, useRef } from \"react\";\nimport { exportPdf } from \"../services/pdfService\";\nimport Footer from \"./Footer\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction addDaysIso(iso, n) {\n  if (!iso) return \"\";\n  const [y, m, d] = iso.split(\"-\").map(Number);\n  const dt = new Date(y, m - 1, d);\n  dt.setDate(dt.getDate() + n);\n  const yyyy = dt.getFullYear();\n  const mm = String(dt.getMonth() + 1).padStart(2, \"0\");\n  const dd = String(dt.getDate()).padStart(2, \"0\");\n  return `${yyyy}-${mm}-${dd}`;\n}\nconst sumCity = (segs, city) => segs.filter(s => s.type === \"stay\" && s.city === city).reduce((a, s) => a + Number(s.countedDays || 0), 0);\nconst sumWeekend = (segs, city) => segs.filter(s => s.type === \"stay\" && s.city === city).reduce((a, s) => a + (Array.isArray(s.weekendDates) ? s.weekendDates.length : 0), 0);\n\n/**\r\n * SavedPackages\r\n *\r\n * Props:\r\n * - packages: array of saved package snapshots\r\n * - setPackages: setter to update packages (delete etc.)\r\n *\r\n * Features:\r\n * - List packages (compact)\r\n * - Show / Hide Details per package (in-list)\r\n * - Preview modal (full package) with Export PDF button\r\n * - Delete package (with confirm)\r\n *\r\n * Simple, readable UI using Tailwind (matches app style)\r\n */\n\nfunction fmtSAR(n) {\n  try {\n    return Number(n || 0).toLocaleString();\n  } catch {\n    return n;\n  }\n}\nexport default function SavedPackages({\n  packages = [],\n  setPackages\n}) {\n  _s();\n  var _previewPkg$agency, _previewPkg$agency2, _previewPkg$agency3, _previewPkg$agency4, _previewPkg$itinerary, _previewPkg$totals, _previewPkg$totals2, _previewPkg$totals3, _previewPkg$perPerson, _previewPkg$totals4, _previewPkg$totals5, _previewPkg$totals6, _previewPkg$totals7, _previewPkg$totals8, _previewPkg$totals9, _previewPkg$totals0, _previewPkg$itinerary2, _previewPkg$hotelsSel, _previewPkg$hotelsSel2, _previewPkg$hotelsSel3, _previewPkg$hotelsSel4, _previewPkg$hotelsSel5, _previewPkg$hotelsSel6, _previewPkg$hotelsSel7, _previewPkg$hotelsSel8, _previewPkg$hotelsSel9, _previewPkg$hotelsSel0, _previewPkg$transport, _previewPkg$visa, _previewPkg$visa2, _previewPkg$flights, _previewPkg$flights$s, _previewPkg$flights2, _previewPkg$flights2$, _previewPkg$selectedA, _previewPkg$flights3;\n  console.log(\"ðŸ“¦ SavedPackages packages prop\", packages);\n  const [expanded, setExpanded] = useState({}); // { [id]: true }\n  const [previewPkg, setPreviewPkg] = useState(null); // package being previewed\n  const previewRef = useRef(null);\n  const [exporting, setExporting] = useState(false);\n  function toggleExpand(id) {\n    setExpanded(s => ({\n      ...s,\n      [id]: !s[id]\n    }));\n  }\n  function handleDelete(id) {\n    if (!confirm(\"Are you sure you want to delete this package?\")) return;\n    const next = (packages || []).filter(p => p.id !== id);\n    setPackages(next);\n  }\n  function openPreview(pkg) {\n    setPreviewPkg(pkg);\n    // small delay to let modal render before any further action (not required but safe)\n    setTimeout(() => {\n      if (previewRef.current) {\n        // noop\n      }\n    }, 50);\n  }\n  async function handleExportPdf(pkg) {\n    if (!previewRef.current) {\n      alert(\"Preview not ready for export.\");\n      return;\n    }\n    try {\n      setExporting(true);\n      const fileName = `${pkg.id || \"package\"}.pdf`;\n      await exportPdf(previewRef.current, fileName, {\n        format: \"a4\",\n        scale: 2\n      });\n      setExporting(false);\n    } catch (err) {\n      console.error(\"Export PDF failed:\", err);\n      setExporting(false);\n      alert(\"Export failed. See console for details.\");\n    }\n  }\n  async function handlePrint(pkg) {\n    // ensure preview DOM exists; if not, open preview then retry\n    if (!previewRef.current) {\n      openPreview(pkg);\n      // wait a short moment for modal to render then retry\n      setTimeout(() => {\n        handlePrint(pkg);\n      }, 300);\n      return;\n    }\n    try {\n      const blob = await exportPdf(previewRef.current, `${pkg.id || \"package\"}.pdf`, {\n        format: \"a4\",\n        scale: 3,\n        forceSinglePage: true,\n        skipSave: true\n      });\n      const url = URL.createObjectURL(blob);\n      const w = window.open(url, \"_blank\");\n      if (!w) {\n        alert(\"Popup blocked â€” allow popups.\");\n        return;\n      }\n      w.focus();\n      setTimeout(() => {\n        try {\n          w.print();\n        } catch {}\n      }, 600);\n    } catch (err) {\n      console.error(\"Print failed\", err);\n      alert(\"Print failed.\");\n    }\n  }\n\n  // Render a compact itinerary snippet (safe fallback)\n  function renderItinerarySnippet(itinerary) {\n    if (!itinerary) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-gray-500\",\n      children: \"No itinerary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 14\n    }, this);\n    // Use segments or adjustedSegments\n    const segs = itinerary.adjustedSegments || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-gray-700 space-y-1\",\n      children: [segs.slice(0, 4).map((s, idx) => {\n        var _s$date;\n        if (s.type === \"travel\") return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600\",\n          children: [\"Travel: \", ((_s$date = s.date) === null || _s$date === void 0 ? void 0 : _s$date.human) || s.date || s.iso]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }, this);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            className: \"capitalize\",\n            children: s.city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: [\"\\u2014 \", s.countedDays, \" nights\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this);\n      }), segs.length > 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500\",\n        children: \"...more\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5 space-y-4 max-w-4xl mx-auto px-3\",\n    children: [(!packages || packages.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-500 text-sm\",\n      children: \"No packages saved yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this), (packages || []).map(pkg => {\n      var _pkg$itinerary, _pkg$totals, _pkg$totals2, _pkg$totals3, _pkg$perPersonTotal, _pkg$totals4, _pkg$totals5, _pkg$totals6, _pkg$totals7, _pkg$totals8, _pkg$totals9, _pkg$totals0, _pkg$hotelsSelected, _pkg$hotelsSelected$m, _pkg$itinerary2, _pkg$hotelsSelected2, _pkg$hotelsSelected2$, _pkg$itinerary3, _pkg$itinerary4, _pkg$transport, _pkg$flights, _pkg$flights$selected, _pkg$flights2, _pkg$flights2$airline, _pkg$selectedAirline, _pkg$flights3;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\\r p-4 rounded-xl\\r bg-gradient-to-r from-indigo-50 via-white to-sky-50\\r border border-indigo-100\\r shadow-sm\\r flex flex-col md:flex-row md:items-center md:justify-between\\r gap-3 w-full max-w-full overflow-hidden\\r text-center\\r \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-sm\",\n                children: [Number((_pkg$itinerary = pkg.itinerary) !== null && _pkg$itinerary !== void 0 && _pkg$itinerary.adjustedStays ? pkg.itinerary.adjustedStays.reduce((sum, s) => sum + Number(s.countedDays || 0), 0) : 0), \" \", \"Days Package \\u2014\", \" \", pkg.createdAt ? new Date(pkg.createdAt).toLocaleString() : pkg.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-xs mt-2 px-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-1 font-medium flex flex-col sm:flex-row flex-wrap sm:items-center sm:justify-center gap-1 sm:gap-4\",\n                  children: [\"Per Person:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3 font-bold\",\n                    children: [\"PKR\", \" \", fmtSAR(pkg.perPersonTotal ? Math.round(Number(pkg.perPersonTotal) * (((_pkg$totals = pkg.totals) === null || _pkg$totals === void 0 ? void 0 : _pkg$totals.PKR) || 0) / (((_pkg$totals2 = pkg.totals) === null || _pkg$totals2 === void 0 ? void 0 : _pkg$totals2.SAR) || Number(pkg.perPersonTotal) || 1)) : (_pkg$totals3 = pkg.totals) !== null && _pkg$totals3 !== void 0 && _pkg$totals3.PKR ? Math.round(pkg.totals.PKR / Math.max(1, pkg.pax || 1)) : 0)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-4\",\n                    children: [\"SAR\", \" \", fmtSAR((_pkg$perPersonTotal = pkg.perPersonTotal) !== null && _pkg$perPersonTotal !== void 0 ? _pkg$perPersonTotal : (_pkg$totals4 = pkg.totals) !== null && _pkg$totals4 !== void 0 && _pkg$totals4.SAR ? Math.round(pkg.totals.SAR / Math.max(1, pkg.pax || 1)) : 0)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-4\",\n                    children: [\"USD\", \" \", (pkg.perPersonTotal ? Number(pkg.perPersonTotal) * Number(((_pkg$totals5 = pkg.totals) === null || _pkg$totals5 === void 0 ? void 0 : _pkg$totals5.USD) || 0) / Number(((_pkg$totals6 = pkg.totals) === null || _pkg$totals6 === void 0 ? void 0 : _pkg$totals6.SAR) || Number(pkg.perPersonTotal) || 1) : Number(((_pkg$totals7 = pkg.totals) === null || _pkg$totals7 === void 0 ? void 0 : _pkg$totals7.USD) || 0) / Math.max(1, pkg.pax || 1)).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1 font-medium flex flex-col sm:flex-row sm:items-center sm:justify-center gap-1 sm:gap-0\",\n                  children: [\"Pax \", pkg.pax || 1, \" \\xA0\\xA0 | \\xA0\\xA0 Totals:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3 font-bold\",\n                    children: [\"PKR \", fmtSAR(((_pkg$totals8 = pkg.totals) === null || _pkg$totals8 === void 0 ? void 0 : _pkg$totals8.PKR) || 0)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-4\",\n                    children: [\"SAR \", fmtSAR(((_pkg$totals9 = pkg.totals) === null || _pkg$totals9 === void 0 ? void 0 : _pkg$totals9.SAR) || 0)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-4\",\n                    children: [\"USD \", (((_pkg$totals0 = pkg.totals) === null || _pkg$totals0 === void 0 ? void 0 : _pkg$totals0.USD) || 0).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleExpand(pkg.id),\n                  className: \"text-xs text-indigo-600 hover:underline\",\n                  type: \"button\",\n                  children: expanded[pkg.id] ? \"Hide details\" : \"Show details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), expanded[pkg.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 p-3 bg-gray-50 rounded text-sm text-gray-700 space-y-4\",\n                  children: [pkg.agency && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Agency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-extrabold text-center bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent\",\n                      children: pkg.agency.name || \"No name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: pkg.agency.email || \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 27\n                    }, this), pkg.agency.address && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: pkg.agency.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-center gap-2 text-sm font-extrabold text-indigo-700 mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xl\",\n                        children: \"\\uD83C\\uDFE8\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Hotels\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid md:grid-cols-2 gap-4 mt-3 bg-gradient-to-r from-gray-50 via-white to-gray-50 p-3 rounded-xl\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"\\r p-3 rounded-xl\\r bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50\\r border border-amber-200\\r shadow-sm\\r text-center\\r \",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-2xl\",\n                            children: \"\\uD83D\\uDD4B\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 319,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"Makkah\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 320,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium\",\n                          children: ((_pkg$hotelsSelected = pkg.hotelsSelected) === null || _pkg$hotelsSelected === void 0 ? void 0 : (_pkg$hotelsSelected$m = _pkg$hotelsSelected.makkah) === null || _pkg$hotelsSelected$m === void 0 ? void 0 : _pkg$hotelsSelected$m.name) || \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 323,\n                          columnNumber: 29\n                        }, this), ((_pkg$itinerary2 = pkg.itinerary) === null || _pkg$itinerary2 === void 0 ? void 0 : _pkg$itinerary2.adjustedSegments) && (() => {\n                          const segs = pkg.itinerary.adjustedSegments;\n                          return /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-600\",\n                              children: [\"Nights: \", sumCity(segs, \"makkah\")]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 332,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-600\",\n                              children: [\"Weekend nights:\", \" \", sumWeekend(segs, \"makkah\")]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 335,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true);\n                        })()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"\\r p-3 rounded-xl\\r bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50\\r border border-emerald-200\\r shadow-sm\\r text-center\\r \",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-2xl\",\n                            children: \"\\uD83D\\uDD4C\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 355,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"Madinah\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 356,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 354,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium\",\n                          children: ((_pkg$hotelsSelected2 = pkg.hotelsSelected) === null || _pkg$hotelsSelected2 === void 0 ? void 0 : (_pkg$hotelsSelected2$ = _pkg$hotelsSelected2.madinah) === null || _pkg$hotelsSelected2$ === void 0 ? void 0 : _pkg$hotelsSelected2$.name) || \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 359,\n                          columnNumber: 29\n                        }, this), ((_pkg$itinerary3 = pkg.itinerary) === null || _pkg$itinerary3 === void 0 ? void 0 : _pkg$itinerary3.adjustedSegments) && (() => {\n                          const segs = pkg.itinerary.adjustedSegments;\n                          return /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-600\",\n                              children: [\"Nights: \", sumCity(segs, \"madinah\")]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 368,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-600\",\n                              children: [\"Weekend nights:\", \" \", sumWeekend(segs, \"madinah\")]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 371,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true);\n                        })()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-center gap-2 mb-2 text-sm font-extrabold text-indigo-700\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xl\",\n                        children: \"\\uD83D\\uDDFA\\uFE0F\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 385,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Itinerary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2 space-y-3\",\n                      children: (((_pkg$itinerary4 = pkg.itinerary) === null || _pkg$itinerary4 === void 0 ? void 0 : _pkg$itinerary4.adjustedSegments) || []).map((s, i) => {\n                        var _s$countedDays, _s$weekendDates;\n                        // Travel Segment\n                        if (s.type === \"travel\") {\n                          var _s$date2;\n                          return /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"\\r p-3 rounded-xl\\r bg-gradient-to-r from-sky-100 via-cyan-100 to-emerald-100\\r border border-cyan-200\\r text-sm\\r text-center\\r shadow-sm\\r \",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-semibold\",\n                              children: \"Travel Day\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 406,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-700\",\n                              children: ((_s$date2 = s.date) === null || _s$date2 === void 0 ? void 0 : _s$date2.human) || s.date || s.iso\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 409,\n                              columnNumber: 37\n                            }, this)]\n                          }, i, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 395,\n                            columnNumber: 35\n                          }, this);\n                        }\n\n                        // Stay Segment\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-3 bg-white rounded border\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between items-start\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"font-semibold capitalize\",\n                                children: s.city\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 424,\n                                columnNumber: 39\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 423,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-right text-gray-700\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [\"Check-in:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"font-medium\",\n                                  children: s.countedCheckInIso || \"-\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 432,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 430,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [\"Check-out:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"font-medium\",\n                                  children: s.countedLastNightIso ? addDaysIso(s.countedLastNightIso, 1) : \"-\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 438,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 436,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"mt-1 text-gray-600\",\n                                children: [\"Nights (counted): \", (_s$countedDays = s.countedDays) !== null && _s$countedDays !== void 0 ? _s$countedDays : \"-\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 448,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 429,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 422,\n                            columnNumber: 35\n                          }, this), (s.countedCheckInIso || s.countedLastNightIso) && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2 bg-gray-50 p-2 rounded border text-xs\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"Counted check-in:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"font-medium\",\n                                children: s.countedCheckInIso || \"-\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 460,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 458,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"Counted last-night:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"font-medium\",\n                                children: s.countedLastNightIso || \"-\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 466,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 464,\n                              columnNumber: 39\n                            }, this), ((_s$weekendDates = s.weekendDates) === null || _s$weekendDates === void 0 ? void 0 : _s$weekendDates.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"mt-1 text-gray-600\",\n                              children: [\"Weekend nights:\", \" \", s.weekendDates.join(\", \")]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 472,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 457,\n                            columnNumber: 37\n                          }, this)]\n                        }, i, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 418,\n                          columnNumber: 33\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid md:grid-cols-3 gap-3 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-3 bg-white rounded border\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-center gap-2 text-sm font-semibold text-indigo-700\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xl\",\n                          children: \"\\uD83D\\uDE8C\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 490,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Transport\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 491,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium\",\n                        children: ((_pkg$transport = pkg.transport) === null || _pkg$transport === void 0 ? void 0 : _pkg$transport.vehicle) || pkg.vehicle || \"â€”\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 494,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Selected vehicle\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 498,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-3 bg-white rounded border\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xl\",\n                          children: \"\\uD83D\\uDEC2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 505,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Visa\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 506,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 504,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium\",\n                        children: \"e-visa\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-3 bg-white rounded border\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xl\",\n                          children: \"\\u2708\\uFE0F\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 514,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Ticket\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 515,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 513,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium\",\n                        children: ((_pkg$flights = pkg.flights) === null || _pkg$flights === void 0 ? void 0 : (_pkg$flights$selected = _pkg$flights.selectedAirline) === null || _pkg$flights$selected === void 0 ? void 0 : _pkg$flights$selected.name) || ((_pkg$flights2 = pkg.flights) === null || _pkg$flights2 === void 0 ? void 0 : (_pkg$flights2$airline = _pkg$flights2.airline) === null || _pkg$flights2$airline === void 0 ? void 0 : _pkg$flights2$airline.name) || ((_pkg$selectedAirline = pkg.selectedAirline) === null || _pkg$selectedAirline === void 0 ? void 0 : _pkg$selectedAirline.name) || ((_pkg$flights3 = pkg.flights) === null || _pkg$flights3 === void 0 ? void 0 : _pkg$flights3.airline) || \"â€”\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Selected airline\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 512,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center flex-wrap gap-3 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openPreview(pkg),\n                className: \"\\r px-4 py-2 text-sm rounded-lg\\r bg-gradient-to-r from-indigo-600 to-blue-600\\r text-white shadow hover:opacity-95\\r w-full sm:w-auto\\r\\n\",\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  // export quick PDF using a small inline preview creation\n                  openPreview(pkg);\n                  // wait a moment and then export (modal will open)\n                  setTimeout(() => {\n                    if (previewRef.current) {\n                      handleExportPdf(pkg);\n                    } else {\n                      // fallback: try once more later\n                      setTimeout(() => {\n                        if (previewRef.current) handleExportPdf(pkg);\n                      }, 200);\n                    }\n                  }, 250);\n                },\n                className: \"\\r px-4 py-2 text-sm rounded-lg\\r bg-gradient-to-r from-emerald-600 to-teal-600\\r text-white shadow hover:opacity-95\\r w-full sm:w-auto\\r\\n\",\n                children: \"Export PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(pkg.id),\n                className: \"\\r px-4 py-2 text-sm rounded-lg\\r bg-gradient-to-r from-rose-600 to-red-600\\r text-white shadow hover:opacity-95\\r w-full sm:w-auto\\r\\n\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, pkg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this);\n    }), previewPkg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 flex items-start justify-center p-6 bg-black/40\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white max-w-4xl w-full mx-auto rounded shadow-lg overflow-auto px-2 sm:px-0\",\n        style: {\n          maxHeight: \"90vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\\r flex items-center justify-between p-4\\r bg-gradient-to-r from-indigo-600 via-blue-600 to-teal-600\\r text-white\\r \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-semibold tracking-wide\",\n            children: \"Package Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleExportPdf(previewPkg),\n              disabled: exporting,\n              className: \"px-4 py-1.5 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-lg text-sm font-semibold shadow hover:opacity-90\",\n              children: exporting ? \"Exporting...\" : \"Export PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePrint(previewPkg),\n              className: \"px-4 py-1.5 bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-lg text-sm font-semibold shadow hover:opacity-90\",\n              children: \"Print\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setPreviewPkg(null),\n              className: \"px-4 py-1.5 bg-white text-gray-700 border border-gray-300 rounded-lg text-sm font-medium shadow hover:bg-gray-50\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          ref: previewRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 rounded flex items-center justify-center overflow-hidden bg-white border\",\n              children: (_previewPkg$agency = previewPkg.agency) !== null && _previewPkg$agency !== void 0 && _previewPkg$agency.logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: previewPkg.agency.logo,\n                alt: \"Agency Logo\",\n                className: \"w-full h-full object-contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400\",\n                children: \"Logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-extrabold text-white\",\n                children: ((_previewPkg$agency2 = previewPkg.agency) === null || _previewPkg$agency2 === void 0 ? void 0 : _previewPkg$agency2.name) || \"Agency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-white/90 mt-1\",\n                children: [((_previewPkg$agency3 = previewPkg.agency) === null || _previewPkg$agency3 === void 0 ? void 0 : _previewPkg$agency3.email) || \"\", (_previewPkg$agency4 = previewPkg.agency) !== null && _previewPkg$agency4 !== void 0 && _previewPkg$agency4.phone ? ` â€¢ ${previewPkg.agency.phone}` : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-right text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-xs\",\n                children: previewPkg.createdAt ? new Date(previewPkg.createdAt).toLocaleDateString() : \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\\r mt-8 p-6\\r rounded-2xl\\r bg-gradient-to-br from-indigo-50 via-white to-sky-50\\r border border-indigo-200\\r shadow-md\\r \",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-center text-xl font-extrabold text-indigo-700 mb-4 tracking-wide\",\n              children: [Number((_previewPkg$itinerary = previewPkg.itinerary) !== null && _previewPkg$itinerary !== void 0 && _previewPkg$itinerary.adjustedStays ? previewPkg.itinerary.adjustedStays.reduce((sum, s) => sum + Number(s.countedDays || 0), 0) : 0), \" \", \"Days Package Summary\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-w-[820px] mx-auto text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Per Person\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1 flex flex-col sm:flex-row sm:items-baseline justify-center gap-2 sm:gap-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xl font-extrabold text-gray-900\",\n                    children: [\"PKR\", \" \", fmtSAR(previewPkg.perPersonTotal ? Math.round(Number(previewPkg.perPersonTotal) * (((_previewPkg$totals = previewPkg.totals) === null || _previewPkg$totals === void 0 ? void 0 : _previewPkg$totals.PKR) || 0) / (((_previewPkg$totals2 = previewPkg.totals) === null || _previewPkg$totals2 === void 0 ? void 0 : _previewPkg$totals2.SAR) || Number(previewPkg.perPersonTotal) || 1)) : (_previewPkg$totals3 = previewPkg.totals) !== null && _previewPkg$totals3 !== void 0 && _previewPkg$totals3.PKR ? Math.round(Number(previewPkg.totals.PKR) / Math.max(1, Number(previewPkg.pax || 1))) : 0)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg text-gray-700\",\n                    children: [\"SAR\", \" \", fmtSAR(Number((_previewPkg$perPerson = previewPkg.perPersonTotal) !== null && _previewPkg$perPerson !== void 0 ? _previewPkg$perPerson : (_previewPkg$totals4 = previewPkg.totals) !== null && _previewPkg$totals4 !== void 0 && _previewPkg$totals4.SAR ? Math.round(Number(previewPkg.totals.SAR) / Math.max(1, Number(previewPkg.pax || 1))) : 0))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 739,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg text-gray-700\",\n                    children: [\"USD\", \" \", (previewPkg.perPersonTotal ? Number(previewPkg.perPersonTotal) * Number(((_previewPkg$totals5 = previewPkg.totals) === null || _previewPkg$totals5 === void 0 ? void 0 : _previewPkg$totals5.USD) || 0) / Number(((_previewPkg$totals6 = previewPkg.totals) === null || _previewPkg$totals6 === void 0 ? void 0 : _previewPkg$totals6.SAR) || Number(previewPkg.perPersonTotal) || 1) : Number(((_previewPkg$totals7 = previewPkg.totals) === null || _previewPkg$totals7 === void 0 ? void 0 : _previewPkg$totals7.USD) || 0) / Math.max(1, Number(previewPkg.pax || 1))).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 755,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-12 mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Pax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 776,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium\",\n                    children: previewPkg.pax || 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 777,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Totals\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 784,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-1 flex flex-col sm:flex-row sm:items-baseline justify-center gap-2 sm:gap-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xl font-extrabold text-gray-900\",\n                      children: [\"PKR \", fmtSAR(((_previewPkg$totals8 = previewPkg.totals) === null || _previewPkg$totals8 === void 0 ? void 0 : _previewPkg$totals8.PKR) || 0)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 788,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [\"SAR \", fmtSAR(((_previewPkg$totals9 = previewPkg.totals) === null || _previewPkg$totals9 === void 0 ? void 0 : _previewPkg$totals9.SAR) || 0)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 793,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [\"USD \", Number(((_previewPkg$totals0 = previewPkg.totals) === null || _previewPkg$totals0 === void 0 ? void 0 : _previewPkg$totals0.USD) || 0).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 798,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 786,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 783,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mb-3 text-lg font-extrabold text-center text-indigo-700 tracking-wide\",\n              children: \"Itinerary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this), (_previewPkg$itinerary2 = previewPkg.itinerary) !== null && _previewPkg$itinerary2 !== void 0 && _previewPkg$itinerary2.adjustedSegments ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: previewPkg.itinerary.adjustedSegments.map((s, i) => {\n                if (s.type === \"travel\") {\n                  var _s$date3;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"\\r p-3 rounded-xl\\r bg-gradient-to-r from-sky-100 via-cyan-100 to-emerald-100\\r border border-cyan-200\\r text-sm\\r text-center\\r shadow-sm\\r \",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-center gap-2 text-sm font-extrabold text-emerald-700\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-lg\",\n                        children: \"\\uD83D\\uDE8C\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 830,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Travel Day\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 831,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 829,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-700 mt-1\",\n                      children: ((_s$date3 = s.date) === null || _s$date3 === void 0 ? void 0 : _s$date3.human) || s.date || s.iso\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 834,\n                      columnNumber: 29\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 818,\n                    columnNumber: 27\n                  }, this);\n                }\n                // stay\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 border rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-extrabold capitalize text-center text-indigo-700\",\n                        children: s.city\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 845,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 844,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-center w-full mt-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Check-in:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: s.countedCheckInIso || \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 852,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 850,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Check-out:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: s.countedLastNightIso ? addDaysIso(s.countedLastNightIso, 1) : \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 858,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 856,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 849,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 843,\n                    columnNumber: 27\n                  }, this), s.weekendDates && s.weekendDates.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 p-3 rounded-lg \\r bg-gradient-to-r from-indigo-50 via-blue-50 to-cyan-50 \\r border border-blue-200 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-semibold text-xs\",\n                      children: \"Weekend nights:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 874,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs mt-1 flex flex-wrap gap-2\",\n                      children: s.weekendDates.map(iso => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"px-2 py-1 bg-white rounded border text-xs\",\n                        children: iso\n                      }, iso, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 879,\n                        columnNumber: 35\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 877,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 29\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 842,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"No itinerary data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"flex items-center justify-center gap-2 mb-3 text-lg font-extrabold text-indigo-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83C\\uDFE8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 903,\n                columnNumber: 19\n              }, this), \"Hotels\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 rounded-xl \\r bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 \\r border border-amber-200 shadow-sm text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-2xl\",\n                    children: \"\\uD83D\\uDD4B\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 914,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Makkah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 915,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 913,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: ((_previewPkg$hotelsSel = previewPkg.hotelsSelected) === null || _previewPkg$hotelsSel === void 0 ? void 0 : (_previewPkg$hotelsSel2 = _previewPkg$hotelsSel.makkah) === null || _previewPkg$hotelsSel2 === void 0 ? void 0 : _previewPkg$hotelsSel2.name) || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 918,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-700 mt-1\",\n                  children: [\"Nights: \", (_previewPkg$hotelsSel3 = (_previewPkg$hotelsSel4 = previewPkg.hotelsSelected) === null || _previewPkg$hotelsSel4 === void 0 ? void 0 : (_previewPkg$hotelsSel5 = _previewPkg$hotelsSel4.makkah) === null || _previewPkg$hotelsSel5 === void 0 ? void 0 : _previewPkg$hotelsSel5.nights) !== null && _previewPkg$hotelsSel3 !== void 0 ? _previewPkg$hotelsSel3 : \"-\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 908,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"\\r p-3 rounded-xl\\r bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50\\r border border-emerald-200\\r shadow-sm\\r text-center\\r \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-2xl\",\n                    children: \"\\uD83D\\uDD4C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 936,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Madinah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 937,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: ((_previewPkg$hotelsSel6 = previewPkg.hotelsSelected) === null || _previewPkg$hotelsSel6 === void 0 ? void 0 : (_previewPkg$hotelsSel7 = _previewPkg$hotelsSel6.madinah) === null || _previewPkg$hotelsSel7 === void 0 ? void 0 : _previewPkg$hotelsSel7.name) || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-700 mt-1\",\n                  children: [\"Nights:\", \" \", (_previewPkg$hotelsSel8 = (_previewPkg$hotelsSel9 = previewPkg.hotelsSelected) === null || _previewPkg$hotelsSel9 === void 0 ? void 0 : (_previewPkg$hotelsSel0 = _previewPkg$hotelsSel9.madinah) === null || _previewPkg$hotelsSel0 === void 0 ? void 0 : _previewPkg$hotelsSel0.nights) !== null && _previewPkg$hotelsSel8 !== void 0 ? _previewPkg$hotelsSel8 : \"-\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 942,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 grid md:grid-cols-3 gap-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 bg-white rounded border\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center gap-2 text-sm font-semibold text-indigo-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl\",\n                  children: \"\\uD83D\\uDE8C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 954,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Transport\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 955,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: ((_previewPkg$transport = previewPkg.transport) === null || _previewPkg$transport === void 0 ? void 0 : _previewPkg$transport.vehicle) || previewPkg.vehicle || \"â€”\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 958,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 bg-white rounded border\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl\",\n                  children: \"\\uD83D\\uDEC2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Visa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 966,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: ((_previewPkg$visa = previewPkg.visa) === null || _previewPkg$visa === void 0 ? void 0 : _previewPkg$visa.type) || ((_previewPkg$visa2 = previewPkg.visa) === null || _previewPkg$visa2 === void 0 ? void 0 : _previewPkg$visa2.visaType) || \"e-visa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 963,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 bg-white rounded border\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl\",\n                  children: \"\\u2708\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 978,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Ticket\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 979,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: ((_previewPkg$flights = previewPkg.flights) === null || _previewPkg$flights === void 0 ? void 0 : (_previewPkg$flights$s = _previewPkg$flights.selectedAirline) === null || _previewPkg$flights$s === void 0 ? void 0 : _previewPkg$flights$s.name) || ((_previewPkg$flights2 = previewPkg.flights) === null || _previewPkg$flights2 === void 0 ? void 0 : (_previewPkg$flights2$ = _previewPkg$flights2.airline) === null || _previewPkg$flights2$ === void 0 ? void 0 : _previewPkg$flights2$.name) || ((_previewPkg$selectedA = previewPkg.selectedAirline) === null || _previewPkg$selectedA === void 0 ? void 0 : _previewPkg$selectedA.name) || ((_previewPkg$flights3 = previewPkg.flights) === null || _previewPkg$flights3 === void 0 ? void 0 : _previewPkg$flights3.airline) || \"â€”\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 982,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n_s(SavedPackages, \"k6xx/y7I24NJKonW0jo4iVubR2k=\");\n_c = SavedPackages;\nvar _c;\n$RefreshReg$(_c, \"SavedPackages\");","map":{"version":3,"names":["React","useState","useRef","exportPdf","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","addDaysIso","iso","n","y","m","d","split","map","Number","dt","Date","setDate","getDate","yyyy","getFullYear","mm","String","getMonth","padStart","dd","sumCity","segs","city","filter","s","type","reduce","a","countedDays","sumWeekend","Array","isArray","weekendDates","length","fmtSAR","toLocaleString","SavedPackages","packages","setPackages","_s","_previewPkg$agency","_previewPkg$agency2","_previewPkg$agency3","_previewPkg$agency4","_previewPkg$itinerary","_previewPkg$totals","_previewPkg$totals2","_previewPkg$totals3","_previewPkg$perPerson","_previewPkg$totals4","_previewPkg$totals5","_previewPkg$totals6","_previewPkg$totals7","_previewPkg$totals8","_previewPkg$totals9","_previewPkg$totals0","_previewPkg$itinerary2","_previewPkg$hotelsSel","_previewPkg$hotelsSel2","_previewPkg$hotelsSel3","_previewPkg$hotelsSel4","_previewPkg$hotelsSel5","_previewPkg$hotelsSel6","_previewPkg$hotelsSel7","_previewPkg$hotelsSel8","_previewPkg$hotelsSel9","_previewPkg$hotelsSel0","_previewPkg$transport","_previewPkg$visa","_previewPkg$visa2","_previewPkg$flights","_previewPkg$flights$s","_previewPkg$flights2","_previewPkg$flights2$","_previewPkg$selectedA","_previewPkg$flights3","console","log","expanded","setExpanded","previewPkg","setPreviewPkg","previewRef","exporting","setExporting","toggleExpand","id","handleDelete","confirm","next","p","openPreview","pkg","setTimeout","current","handleExportPdf","alert","fileName","format","scale","err","error","handlePrint","blob","forceSinglePage","skipSave","url","URL","createObjectURL","w","window","open","focus","print","renderItinerarySnippet","itinerary","className","children","_jsxFileName","lineNumber","columnNumber","adjustedSegments","slice","idx","_s$date","date","human","_pkg$itinerary","_pkg$totals","_pkg$totals2","_pkg$totals3","_pkg$perPersonTotal","_pkg$totals4","_pkg$totals5","_pkg$totals6","_pkg$totals7","_pkg$totals8","_pkg$totals9","_pkg$totals0","_pkg$hotelsSelected","_pkg$hotelsSelected$m","_pkg$itinerary2","_pkg$hotelsSelected2","_pkg$hotelsSelected2$","_pkg$itinerary3","_pkg$itinerary4","_pkg$transport","_pkg$flights","_pkg$flights$selected","_pkg$flights2","_pkg$flights2$airline","_pkg$selectedAirline","_pkg$flights3","adjustedStays","sum","createdAt","perPersonTotal","Math","round","totals","PKR","SAR","max","pax","USD","toFixed","onClick","agency","name","email","address","hotelsSelected","makkah","madinah","i","_s$countedDays","_s$weekendDates","_s$date2","countedCheckInIso","countedLastNightIso","join","transport","vehicle","flights","selectedAirline","airline","role","style","maxHeight","disabled","ref","logo","src","alt","phone","toLocaleDateString","_s$date3","nights","visa","visaType","_c","$RefreshReg$"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/components/SavedPackages.jsx"],"sourcesContent":["// src/components/SavedPackages.jsx\r\nimport React, { useState, useRef } from \"react\";\r\nimport { exportPdf } from \"../services/pdfService\";\r\nimport Footer from \"./Footer\";\r\n\r\nfunction addDaysIso(iso, n) {\r\n  if (!iso) return \"\";\r\n  const [y, m, d] = iso.split(\"-\").map(Number);\r\n  const dt = new Date(y, m - 1, d);\r\n  dt.setDate(dt.getDate() + n);\r\n  const yyyy = dt.getFullYear();\r\n  const mm = String(dt.getMonth() + 1).padStart(2, \"0\");\r\n  const dd = String(dt.getDate()).padStart(2, \"0\");\r\n  return `${yyyy}-${mm}-${dd}`;\r\n}\r\nconst sumCity = (segs, city) =>\r\n  segs\r\n    .filter((s) => s.type === \"stay\" && s.city === city)\r\n    .reduce((a, s) => a + Number(s.countedDays || 0), 0);\r\n\r\nconst sumWeekend = (segs, city) =>\r\n  segs\r\n    .filter((s) => s.type === \"stay\" && s.city === city)\r\n    .reduce(\r\n      (a, s) => a + (Array.isArray(s.weekendDates) ? s.weekendDates.length : 0),\r\n      0\r\n    );\r\n\r\n/**\r\n * SavedPackages\r\n *\r\n * Props:\r\n * - packages: array of saved package snapshots\r\n * - setPackages: setter to update packages (delete etc.)\r\n *\r\n * Features:\r\n * - List packages (compact)\r\n * - Show / Hide Details per package (in-list)\r\n * - Preview modal (full package) with Export PDF button\r\n * - Delete package (with confirm)\r\n *\r\n * Simple, readable UI using Tailwind (matches app style)\r\n */\r\n\r\nfunction fmtSAR(n) {\r\n  try {\r\n    return Number(n || 0).toLocaleString();\r\n  } catch {\r\n    return n;\r\n  }\r\n}\r\n\r\nexport default function SavedPackages({ packages = [], setPackages }) {\r\n  console.log(\"ðŸ“¦ SavedPackages packages prop\", packages);\r\n\r\n  const [expanded, setExpanded] = useState({}); // { [id]: true }\r\n  const [previewPkg, setPreviewPkg] = useState(null); // package being previewed\r\n  const previewRef = useRef(null);\r\n  const [exporting, setExporting] = useState(false);\r\n\r\n  function toggleExpand(id) {\r\n    setExpanded((s) => ({ ...s, [id]: !s[id] }));\r\n  }\r\n\r\n  function handleDelete(id) {\r\n    if (!confirm(\"Are you sure you want to delete this package?\")) return;\r\n    const next = (packages || []).filter((p) => p.id !== id);\r\n    setPackages(next);\r\n  }\r\n\r\n  function openPreview(pkg) {\r\n    setPreviewPkg(pkg);\r\n    // small delay to let modal render before any further action (not required but safe)\r\n    setTimeout(() => {\r\n      if (previewRef.current) {\r\n        // noop\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  async function handleExportPdf(pkg) {\r\n    if (!previewRef.current) {\r\n      alert(\"Preview not ready for export.\");\r\n      return;\r\n    }\r\n    try {\r\n      setExporting(true);\r\n      const fileName = `${pkg.id || \"package\"}.pdf`;\r\n      await exportPdf(previewRef.current, fileName, { format: \"a4\", scale: 2 });\r\n      setExporting(false);\r\n    } catch (err) {\r\n      console.error(\"Export PDF failed:\", err);\r\n      setExporting(false);\r\n      alert(\"Export failed. See console for details.\");\r\n    }\r\n  }\r\n  async function handlePrint(pkg) {\r\n    // ensure preview DOM exists; if not, open preview then retry\r\n    if (!previewRef.current) {\r\n      openPreview(pkg);\r\n      // wait a short moment for modal to render then retry\r\n      setTimeout(() => {\r\n        handlePrint(pkg);\r\n      }, 300);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const blob = await exportPdf(\r\n        previewRef.current,\r\n        `${pkg.id || \"package\"}.pdf`,\r\n        {\r\n          format: \"a4\",\r\n          scale: 3,\r\n          forceSinglePage: true,\r\n          skipSave: true,\r\n        }\r\n      );\r\n\r\n      const url = URL.createObjectURL(blob);\r\n      const w = window.open(url, \"_blank\");\r\n      if (!w) {\r\n        alert(\"Popup blocked â€” allow popups.\");\r\n        return;\r\n      }\r\n\r\n      w.focus();\r\n      setTimeout(() => {\r\n        try {\r\n          w.print();\r\n        } catch {}\r\n      }, 600);\r\n    } catch (err) {\r\n      console.error(\"Print failed\", err);\r\n      alert(\"Print failed.\");\r\n    }\r\n  }\r\n\r\n  // Render a compact itinerary snippet (safe fallback)\r\n  function renderItinerarySnippet(itinerary) {\r\n    if (!itinerary)\r\n      return <div className=\"text-xs text-gray-500\">No itinerary</div>;\r\n    // Use segments or adjustedSegments\r\n    const segs = itinerary.adjustedSegments || [];\r\n\r\n    return (\r\n      <div className=\"text-sm text-gray-700 space-y-1\">\r\n        {segs.slice(0, 4).map((s, idx) => {\r\n          if (s.type === \"travel\")\r\n            return (\r\n              <div key={idx} className=\"text-xs text-gray-600\">\r\n                Travel: {s.date?.human || s.date || s.iso}\r\n              </div>\r\n            );\r\n          return (\r\n            <div key={idx} className=\"text-xs\">\r\n              <b className=\"capitalize\">{s.city}</b>{\" \"}\r\n              <span className=\"text-gray-600\">â€” {s.countedDays} nights</span>\r\n            </div>\r\n          );\r\n        })}\r\n        {segs.length > 4 && (\r\n          <div className=\"text-xs text-gray-500\">...more</div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5 space-y-4 max-w-4xl mx-auto px-3\">\r\n      {(!packages || packages.length === 0) && (\r\n        <div className=\"text-gray-500 text-sm\">No packages saved yet.</div>\r\n      )}\r\n\r\n      {(packages || []).map((pkg) => (\r\n        <div\r\n          key={pkg.id}\r\n          className=\"\r\n    p-4 rounded-xl\r\n    bg-gradient-to-r from-indigo-50 via-white to-sky-50\r\n    border border-indigo-100\r\n    shadow-sm\r\n    flex flex-col md:flex-row md:items-center md:justify-between\r\n    gap-3 w-full max-w-full overflow-hidden\r\n    text-center\r\n  \"\r\n        >\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"flex flex-col gap-4\">\r\n              <div>\r\n                <div className=\"font-medium text-sm\">\r\n                  {Number(\r\n                    pkg.itinerary?.adjustedStays\r\n                      ? pkg.itinerary.adjustedStays.reduce(\r\n                          (sum, s) => sum + Number(s.countedDays || 0),\r\n                          0\r\n                        )\r\n                      : 0\r\n                  )}{\" \"}\r\n                  Days Package â€”{\" \"}\r\n                  {pkg.createdAt\r\n                    ? new Date(pkg.createdAt).toLocaleString()\r\n                    : pkg.id}\r\n                </div>\r\n\r\n                {/* NEW â€” Perfect Layout: Per Person + Totals (PKR Bold) */}\r\n                <div className=\"text-center text-xs mt-2 px-1\">\r\n                  {/* Per Person Line */}\r\n                  <div className=\"mb-1 font-medium flex flex-col sm:flex-row flex-wrap sm:items-center sm:justify-center gap-1 sm:gap-4\">\r\n                    Per Person:\r\n                    <span className=\"ml-3 font-bold\">\r\n                      PKR{\" \"}\r\n                      {fmtSAR(\r\n                        pkg.perPersonTotal\r\n                          ? Math.round(\r\n                              (Number(pkg.perPersonTotal) *\r\n                                (pkg.totals?.PKR || 0)) /\r\n                                (pkg.totals?.SAR ||\r\n                                  Number(pkg.perPersonTotal) ||\r\n                                  1)\r\n                            )\r\n                          : pkg.totals?.PKR\r\n                          ? Math.round(\r\n                              pkg.totals.PKR / Math.max(1, pkg.pax || 1)\r\n                            )\r\n                          : 0\r\n                      )}\r\n                    </span>\r\n                    <span className=\"ml-4\">\r\n                      SAR{\" \"}\r\n                      {fmtSAR(\r\n                        pkg.perPersonTotal ??\r\n                          (pkg.totals?.SAR\r\n                            ? Math.round(\r\n                                pkg.totals.SAR / Math.max(1, pkg.pax || 1)\r\n                              )\r\n                            : 0)\r\n                      )}\r\n                    </span>\r\n                    <span className=\"ml-4\">\r\n                      USD{\" \"}\r\n                      {(pkg.perPersonTotal\r\n                        ? (Number(pkg.perPersonTotal) *\r\n                            Number(pkg.totals?.USD || 0)) /\r\n                          Number(\r\n                            pkg.totals?.SAR || Number(pkg.perPersonTotal) || 1\r\n                          )\r\n                        : Number(pkg.totals?.USD || 0) /\r\n                          Math.max(1, pkg.pax || 1)\r\n                      ).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {/* Pax + Totals Line */}\r\n                  <div className=\"mt-1 font-medium flex flex-col sm:flex-row sm:items-center sm:justify-center gap-1 sm:gap-0\">\r\n                    Pax {pkg.pax || 1} &nbsp;&nbsp; | &nbsp;&nbsp; Totals:\r\n                    <span className=\"ml-3 font-bold\">\r\n                      PKR {fmtSAR(pkg.totals?.PKR || 0)}\r\n                    </span>\r\n                    <span className=\"ml-4\">\r\n                      SAR {fmtSAR(pkg.totals?.SAR || 0)}\r\n                    </span>\r\n                    <span className=\"ml-4\">\r\n                      USD {(pkg.totals?.USD || 0).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* compact details (collapsible) */}\r\n                <div className=\"mt-3\">\r\n                  <button\r\n                    onClick={() => toggleExpand(pkg.id)}\r\n                    className=\"text-xs text-indigo-600 hover:underline\"\r\n                    type=\"button\"\r\n                  >\r\n                    {expanded[pkg.id] ? \"Hide details\" : \"Show details\"}\r\n                  </button>\r\n\r\n                  {expanded[pkg.id] && (\r\n                    <div className=\"mt-2 p-3 bg-gray-50 rounded text-sm text-gray-700 space-y-4\">\r\n                      {/* Agency */}\r\n                      {pkg.agency && (\r\n                        <div>\r\n                          <div className=\"text-xs text-gray-500\">Agency</div>\r\n                          <div className=\"text-lg font-extrabold text-center bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent\">\r\n                            {pkg.agency.name || \"No name\"}\r\n                          </div>\r\n\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            {pkg.agency.email || \"\"}\r\n                          </div>\r\n                          {pkg.agency.address && (\r\n                            <div className=\"text-xs text-gray-500\">\r\n                              {pkg.agency.address}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Hotels (Full Detail - Price hidden, Weekend nights visible) */}\r\n                      <div>\r\n                        <div className=\"flex items-center justify-center gap-2 text-sm font-extrabold text-indigo-700 mb-2\">\r\n                          <span className=\"text-xl\">ðŸ¨</span>\r\n                          <span>Hotels</span>\r\n                        </div>\r\n\r\n                        <div className=\"grid md:grid-cols-2 gap-4 mt-3 bg-gradient-to-r from-gray-50 via-white to-gray-50 p-3 rounded-xl\">\r\n                          {/* Makkah */}\r\n                          <div\r\n                            className=\"\r\n    p-3 rounded-xl\r\n    bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50\r\n    border border-amber-200\r\n    shadow-sm\r\n    text-center\r\n  \"\r\n                          >\r\n                            <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\">\r\n                              <span className=\"text-2xl\">ðŸ•‹</span>\r\n                              <span>Makkah</span>\r\n                            </div>\r\n\r\n                            <div className=\"font-medium\">\r\n                              {pkg.hotelsSelected?.makkah?.name || \"-\"}\r\n                            </div>\r\n\r\n                            {pkg.itinerary?.adjustedSegments &&\r\n                              (() => {\r\n                                const segs = pkg.itinerary.adjustedSegments;\r\n                                return (\r\n                                  <>\r\n                                    <div className=\"text-xs text-gray-600\">\r\n                                      Nights: {sumCity(segs, \"makkah\")}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-600\">\r\n                                      Weekend nights:{\" \"}\r\n                                      {sumWeekend(segs, \"makkah\")}\r\n                                    </div>\r\n                                  </>\r\n                                );\r\n                              })()}\r\n                          </div>\r\n\r\n                          {/* Madinah */}\r\n                          <div\r\n                            className=\"\r\n    p-3 rounded-xl\r\n    bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50\r\n    border border-emerald-200\r\n    shadow-sm\r\n    text-center\r\n  \"\r\n                          >\r\n                            <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\">\r\n                              <span className=\"text-2xl\">ðŸ•Œ</span>\r\n                              <span>Madinah</span>\r\n                            </div>\r\n\r\n                            <div className=\"font-medium\">\r\n                              {pkg.hotelsSelected?.madinah?.name || \"-\"}\r\n                            </div>\r\n\r\n                            {pkg.itinerary?.adjustedSegments &&\r\n                              (() => {\r\n                                const segs = pkg.itinerary.adjustedSegments;\r\n                                return (\r\n                                  <>\r\n                                    <div className=\"text-xs text-gray-600\">\r\n                                      Nights: {sumCity(segs, \"madinah\")}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-600\">\r\n                                      Weekend nights:{\" \"}\r\n                                      {sumWeekend(segs, \"madinah\")}\r\n                                    </div>\r\n                                  </>\r\n                                );\r\n                              })()}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Full Itinerary (same style as Preview page) */}\r\n                      <div>\r\n                        <div className=\"flex items-center justify-center gap-2 mb-2 text-sm font-extrabold text-indigo-700\">\r\n                          <span className=\"text-xl\">ðŸ—ºï¸</span>\r\n                          <span>Itinerary</span>\r\n                        </div>\r\n\r\n                        <div className=\"mt-2 space-y-3\">\r\n                          {(pkg.itinerary?.adjustedSegments || []).map(\r\n                            (s, i) => {\r\n                              // Travel Segment\r\n                              if (s.type === \"travel\") {\r\n                                return (\r\n                                  <div\r\n                                    key={i}\r\n                                    className=\"\r\n    p-3 rounded-xl\r\n    bg-gradient-to-r from-sky-100 via-cyan-100 to-emerald-100\r\n    border border-cyan-200\r\n    text-sm\r\n    text-center\r\n    shadow-sm\r\n  \"\r\n                                  >\r\n                                    <div className=\"font-semibold\">\r\n                                      Travel Day\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-700\">\r\n                                      {s.date?.human || s.date || s.iso}\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              }\r\n\r\n                              // Stay Segment\r\n                              return (\r\n                                <div\r\n                                  key={i}\r\n                                  className=\"p-3 bg-white rounded border\"\r\n                                >\r\n                                  <div className=\"flex justify-between items-start\">\r\n                                    <div>\r\n                                      <div className=\"font-semibold capitalize\">\r\n                                        {s.city}\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"text-xs text-right text-gray-700\">\r\n                                      <div>\r\n                                        Check-in:{\" \"}\r\n                                        <span className=\"font-medium\">\r\n                                          {s.countedCheckInIso || \"-\"}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div>\r\n                                        Check-out:{\" \"}\r\n                                        <span className=\"font-medium\">\r\n                                          {s.countedLastNightIso\r\n                                            ? addDaysIso(\r\n                                                s.countedLastNightIso,\r\n                                                1\r\n                                              )\r\n                                            : \"-\"}\r\n                                        </span>\r\n                                      </div>\r\n\r\n                                      <div className=\"mt-1 text-gray-600\">\r\n                                        Nights (counted): {s.countedDays ?? \"-\"}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  {/* counted + weekend */}\r\n                                  {(s.countedCheckInIso ||\r\n                                    s.countedLastNightIso) && (\r\n                                    <div className=\"mt-2 bg-gray-50 p-2 rounded border text-xs\">\r\n                                      <div>\r\n                                        Counted check-in:{\" \"}\r\n                                        <span className=\"font-medium\">\r\n                                          {s.countedCheckInIso || \"-\"}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div>\r\n                                        Counted last-night:{\" \"}\r\n                                        <span className=\"font-medium\">\r\n                                          {s.countedLastNightIso || \"-\"}\r\n                                        </span>\r\n                                      </div>\r\n\r\n                                      {s.weekendDates?.length > 0 && (\r\n                                        <div className=\"mt-1 text-gray-600\">\r\n                                          Weekend nights:{\" \"}\r\n                                          {s.weekendDates.join(\", \")}\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              );\r\n                            }\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Transport, Visa & Ticket */}\r\n                      <div className=\"grid md:grid-cols-3 gap-3 text-sm\">\r\n                        <div className=\"p-3 bg-white rounded border\">\r\n                          <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-indigo-700\">\r\n                            <span className=\"text-xl\">ðŸšŒ</span>\r\n                            <span>Transport</span>\r\n                          </div>\r\n\r\n                          <div className=\"font-medium\">\r\n                            {pkg.transport?.vehicle || pkg.vehicle || \"â€”\"}\r\n                          </div>\r\n                          {/* optional small note */}\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            Selected vehicle\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"p-3 bg-white rounded border\">\r\n                          <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\">\r\n                            <span className=\"text-xl\">ðŸ›‚</span>\r\n                            <span>Visa</span>\r\n                          </div>\r\n\r\n                          <div className=\"font-medium\">e-visa</div>\r\n                        </div>\r\n\r\n                        <div className=\"p-3 bg-white rounded border\">\r\n                          <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\">\r\n                            <span className=\"text-xl\">âœˆï¸</span>\r\n                            <span>Ticket</span>\r\n                          </div>\r\n\r\n                          <div className=\"font-medium\">\r\n                            {pkg.flights?.selectedAirline?.name ||\r\n                              pkg.flights?.airline?.name ||\r\n                              pkg.selectedAirline?.name ||\r\n                              pkg.flights?.airline ||\r\n                              \"â€”\"}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            Selected airline\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Buttons */}\r\n              <div className=\"flex justify-center flex-wrap gap-3 mt-3\">\r\n                <button\r\n                  onClick={() => openPreview(pkg)}\r\n                  className=\"\r\n  px-4 py-2 text-sm rounded-lg\r\n  bg-gradient-to-r from-indigo-600 to-blue-600\r\n  text-white shadow hover:opacity-95\r\n  w-full sm:w-auto\r\n\"\r\n                >\r\n                  Preview\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => {\r\n                    // export quick PDF using a small inline preview creation\r\n                    openPreview(pkg);\r\n                    // wait a moment and then export (modal will open)\r\n                    setTimeout(() => {\r\n                      if (previewRef.current) {\r\n                        handleExportPdf(pkg);\r\n                      } else {\r\n                        // fallback: try once more later\r\n                        setTimeout(() => {\r\n                          if (previewRef.current) handleExportPdf(pkg);\r\n                        }, 200);\r\n                      }\r\n                    }, 250);\r\n                  }}\r\n                  className=\"\r\n  px-4 py-2 text-sm rounded-lg\r\n  bg-gradient-to-r from-emerald-600 to-teal-600\r\n  text-white shadow hover:opacity-95\r\n  w-full sm:w-auto\r\n\"\r\n                >\r\n                  Export PDF\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => handleDelete(pkg.id)}\r\n                  className=\"\r\n  px-4 py-2 text-sm rounded-lg\r\n  bg-gradient-to-r from-rose-600 to-red-600\r\n  text-white shadow hover:opacity-95\r\n  w-full sm:w-auto\r\n\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* small separator */}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      {/* Preview Modal */}\r\n      {previewPkg && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-start justify-center p-6 bg-black/40\"\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n        >\r\n          <div\r\n            className=\"bg-white max-w-4xl w-full mx-auto rounded shadow-lg overflow-auto px-2 sm:px-0\"\r\n            style={{ maxHeight: \"90vh\" }}\r\n          >\r\n            {/* Header */}\r\n            <div\r\n              className=\"\r\n    flex items-center justify-between p-4\r\n    bg-gradient-to-r from-indigo-600 via-blue-600 to-teal-600\r\n    text-white\r\n  \"\r\n            >\r\n              <div className=\"text-lg font-semibold tracking-wide\">\r\n                Package Preview\r\n              </div>\r\n\r\n              <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                {/* Export PDF */}\r\n                <button\r\n                  onClick={() => handleExportPdf(previewPkg)}\r\n                  disabled={exporting}\r\n                  className=\"px-4 py-1.5 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-lg text-sm font-semibold shadow hover:opacity-90\"\r\n                >\r\n                  {exporting ? \"Exporting...\" : \"Export PDF\"}\r\n                </button>\r\n\r\n                {/* Print Button (NEW) */}\r\n                <button\r\n                  onClick={() => handlePrint(previewPkg)}\r\n                  className=\"px-4 py-1.5 bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-lg text-sm font-semibold shadow hover:opacity-90\"\r\n                >\r\n                  Print\r\n                </button>\r\n\r\n                {/* Close */}\r\n                <button\r\n                  onClick={() => setPreviewPkg(null)}\r\n                  className=\"px-4 py-1.5 bg-white text-gray-700 border border-gray-300 rounded-lg text-sm font-medium shadow hover:bg-gray-50\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content to render & export */}\r\n            <div className=\"p-6\" ref={previewRef}>\r\n              {/* Top: Agency + Meta (updated) */}\r\n              <div className=\"flex items-start justify-between gap-6\">\r\n                {/* Logo */}\r\n                <div className=\"w-20 h-20 rounded flex items-center justify-center overflow-hidden bg-white border\">\r\n                  {previewPkg.agency?.logo ? (\r\n                    <img\r\n                      src={previewPkg.agency.logo}\r\n                      alt=\"Agency Logo\"\r\n                      className=\"w-full h-full object-contain\"\r\n                    />\r\n                  ) : (\r\n                    <span className=\"text-xs text-gray-400\">Logo</span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Center Agency */}\r\n                <div className=\"flex-1 text-center\">\r\n                  {/* Agency Name â€” PDF SAFE */}\r\n                  <div className=\"text-2xl font-extrabold text-white\">\r\n                    {previewPkg.agency?.name || \"Agency\"}\r\n                  </div>\r\n\r\n                  {/* Email + Phone */}\r\n                  <div className=\"text-sm text-white/90 mt-1\">\r\n                    {previewPkg.agency?.email || \"\"}\r\n                    {previewPkg.agency?.phone\r\n                      ? ` â€¢ ${previewPkg.agency.phone}`\r\n                      : \"\"}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Only Created Date â€” Package ID Removed */}\r\n                <div className=\"text-sm text-right text-gray-600\">\r\n                  <div>Created:</div>\r\n                  <div className=\"font-mono text-xs\">\r\n                    {previewPkg.createdAt\r\n                      ? new Date(previewPkg.createdAt).toLocaleDateString()\r\n                      : \"-\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Summary (preview modal) â€” updated layout: Per Person (PKR bold), Pax + Totals same row */}\r\n              <div\r\n                className=\"\r\n    mt-8 p-6\r\n    rounded-2xl\r\n    bg-gradient-to-br from-indigo-50 via-white to-sky-50\r\n    border border-indigo-200\r\n    shadow-md\r\n  \"\r\n              >\r\n                <h3 className=\"text-center text-xl font-extrabold text-indigo-700 mb-4 tracking-wide\">\r\n                  {Number(\r\n                    previewPkg.itinerary?.adjustedStays\r\n                      ? previewPkg.itinerary.adjustedStays.reduce(\r\n                          (sum, s) => sum + Number(s.countedDays || 0),\r\n                          0\r\n                        )\r\n                      : 0\r\n                  )}{\" \"}\r\n                  Days Package Summary\r\n                </h3>\r\n\r\n                <div className=\"max-w-[820px] mx-auto text-center\">\r\n                  {/* Per Person â€” PKR bold â†’ SAR â†’ USD */}\r\n                  <div className=\"mb-3\">\r\n                    <div className=\"text-xs text-gray-500\">Per Person</div>\r\n\r\n                    <div className=\"mt-1 flex flex-col sm:flex-row sm:items-baseline justify-center gap-2 sm:gap-6\">\r\n                      {/* PKR BOLD */}\r\n                      <span className=\"text-xl font-extrabold text-gray-900\">\r\n                        PKR{\" \"}\r\n                        {fmtSAR(\r\n                          previewPkg.perPersonTotal\r\n                            ? Math.round(\r\n                                (Number(previewPkg.perPersonTotal) *\r\n                                  (previewPkg.totals?.PKR || 0)) /\r\n                                  (previewPkg.totals?.SAR ||\r\n                                    Number(previewPkg.perPersonTotal) ||\r\n                                    1)\r\n                              )\r\n                            : previewPkg.totals?.PKR\r\n                            ? Math.round(\r\n                                Number(previewPkg.totals.PKR) /\r\n                                  Math.max(1, Number(previewPkg.pax || 1))\r\n                              )\r\n                            : 0\r\n                        )}\r\n                      </span>\r\n\r\n                      {/* SAR normal */}\r\n                      <span className=\"text-lg text-gray-700\">\r\n                        SAR{\" \"}\r\n                        {fmtSAR(\r\n                          Number(\r\n                            previewPkg.perPersonTotal ??\r\n                              (previewPkg.totals?.SAR\r\n                                ? Math.round(\r\n                                    Number(previewPkg.totals.SAR) /\r\n                                      Math.max(1, Number(previewPkg.pax || 1))\r\n                                  )\r\n                                : 0)\r\n                          )\r\n                        )}\r\n                      </span>\r\n\r\n                      {/* USD normal */}\r\n                      <span className=\"text-lg text-gray-700\">\r\n                        USD{\" \"}\r\n                        {(previewPkg.perPersonTotal\r\n                          ? (Number(previewPkg.perPersonTotal) *\r\n                              Number(previewPkg.totals?.USD || 0)) /\r\n                            Number(\r\n                              previewPkg.totals?.SAR ||\r\n                                Number(previewPkg.perPersonTotal) ||\r\n                                1\r\n                            )\r\n                          : Number(previewPkg.totals?.USD || 0) /\r\n                            Math.max(1, Number(previewPkg.pax || 1))\r\n                        ).toFixed(2)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Pax + Totals in SAME ROW */}\r\n                  <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-12 mt-2\">\r\n                    {/* Pax */}\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs text-gray-500\">Pax</div>\r\n                      <div className=\"text-lg font-medium\">\r\n                        {previewPkg.pax || 1}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Totals */}\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs text-gray-500\">Totals</div>\r\n\r\n                      <div className=\"mt-1 flex flex-col sm:flex-row sm:items-baseline justify-center gap-2 sm:gap-6\">\r\n                        {/* PKR bold */}\r\n                        <span className=\"text-xl font-extrabold text-gray-900\">\r\n                          PKR {fmtSAR(previewPkg.totals?.PKR || 0)}\r\n                        </span>\r\n\r\n                        {/* SAR normal */}\r\n                        <span className=\"text-lg text-gray-700\">\r\n                          SAR {fmtSAR(previewPkg.totals?.SAR || 0)}\r\n                        </span>\r\n\r\n                        {/* USD normal */}\r\n                        <span className=\"text-lg text-gray-700\">\r\n                          USD {Number(previewPkg.totals?.USD || 0).toFixed(2)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Itinerary detailed */}\r\n              <div className=\"mt-6\">\r\n                <h4 className=\"mb-3 text-lg font-extrabold text-center text-indigo-700 tracking-wide\">\r\n                  Itinerary\r\n                </h4>\r\n\r\n                {previewPkg.itinerary?.adjustedSegments ? (\r\n                  <div className=\"space-y-3\">\r\n                    {previewPkg.itinerary.adjustedSegments.map((s, i) => {\r\n                      if (s.type === \"travel\") {\r\n                        return (\r\n                          <div\r\n                            key={i}\r\n                            className=\"\r\n    p-3 rounded-xl\r\n    bg-gradient-to-r from-sky-100 via-cyan-100 to-emerald-100\r\n    border border-cyan-200\r\n    text-sm\r\n    text-center\r\n    shadow-sm\r\n  \"\r\n                          >\r\n                            <div className=\"flex items-center justify-center gap-2 text-sm font-extrabold text-emerald-700\">\r\n                              <span className=\"text-lg\">ðŸšŒ</span>\r\n                              <span>Travel Day</span>\r\n                            </div>\r\n\r\n                            <div className=\"text-sm text-gray-700 mt-1\">\r\n                              {s.date?.human || s.date || s.iso}\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      }\r\n                      // stay\r\n                      return (\r\n                        <div key={i} className=\"p-3 border rounded\">\r\n                          <div className=\"flex justify-between items-start\">\r\n                            <div>\r\n                              <div className=\"font-extrabold capitalize text-center text-indigo-700\">\r\n                                {s.city}\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"text-sm text-center w-full mt-1\">\r\n                              <div>\r\n                                Check-in:{\" \"}\r\n                                <span className=\"font-medium\">\r\n                                  {s.countedCheckInIso || \"-\"}\r\n                                </span>\r\n                              </div>\r\n                              <div>\r\n                                Check-out:{\" \"}\r\n                                <span className=\"font-medium\">\r\n                                  {s.countedLastNightIso\r\n                                    ? addDaysIso(s.countedLastNightIso, 1)\r\n                                    : \"-\"}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* weekend list */}\r\n                          {s.weekendDates && s.weekendDates.length > 0 && (\r\n                            <div\r\n                              className=\"mt-3 p-3 rounded-lg \r\n  bg-gradient-to-r from-indigo-50 via-blue-50 to-cyan-50 \r\n  border border-blue-200 text-center\"\r\n                            >\r\n                              <div className=\"font-semibold text-xs\">\r\n                                Weekend nights:\r\n                              </div>\r\n                              <div className=\"text-xs mt-1 flex flex-wrap gap-2\">\r\n                                {s.weekendDates.map((iso) => (\r\n                                  <div\r\n                                    key={iso}\r\n                                    className=\"px-2 py-1 bg-white rounded border text-xs\"\r\n                                  >\r\n                                    {iso}\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    No itinerary data available\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Hotels */}\r\n              <div className=\"mt-6\">\r\n                <h4 className=\"flex items-center justify-center gap-2 mb-3 text-lg font-extrabold text-indigo-700\">\r\n                  <span className=\"text-2xl\">ðŸ¨</span>\r\n                  Hotels\r\n                </h4>\r\n\r\n                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                  <div\r\n                    className=\"p-4 rounded-xl \r\n  bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 \r\n  border border-amber-200 shadow-sm text-center\"\r\n                  >\r\n                    <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\">\r\n                      <span className=\"text-2xl\">ðŸ•‹</span>\r\n                      <span>Makkah</span>\r\n                    </div>\r\n\r\n                    <div className=\"font-medium\">\r\n                      {previewPkg.hotelsSelected?.makkah?.name || \"-\"}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-700 mt-1\">\r\n                      Nights: {previewPkg.hotelsSelected?.makkah?.nights ?? \"-\"}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"\r\n    p-3 rounded-xl\r\n    bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50\r\n    border border-emerald-200\r\n    shadow-sm\r\n    text-center\r\n  \"\r\n                  >\r\n                    <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\">\r\n                      <span className=\"text-2xl\">ðŸ•Œ</span>\r\n                      <span>Madinah</span>\r\n                    </div>\r\n                    <div className=\"font-medium\">\r\n                      {previewPkg.hotelsSelected?.madinah?.name || \"-\"}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-700 mt-1\">\r\n                      Nights:{\" \"}\r\n                      {previewPkg.hotelsSelected?.madinah?.nights ?? \"-\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Transport / Visa / Ticket (preview modal) */}\r\n              <div className=\"mt-6 grid md:grid-cols-3 gap-3 text-sm\">\r\n                <div className=\"p-3 bg-white rounded border\">\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-indigo-700\">\r\n                    <span className=\"text-xl\">ðŸšŒ</span>\r\n                    <span>Transport</span>\r\n                  </div>\r\n\r\n                  <div className=\"font-medium\">\r\n                    {previewPkg.transport?.vehicle || previewPkg.vehicle || \"â€”\"}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-3 bg-white rounded border\">\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-emerald-700\">\r\n                    <span className=\"text-xl\">ðŸ›‚</span>\r\n                    <span>Visa</span>\r\n                  </div>\r\n\r\n                  <div className=\"font-medium\">\r\n                    {previewPkg.visa?.type ||\r\n                      previewPkg.visa?.visaType ||\r\n                      \"e-visa\"}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-3 bg-white rounded border\">\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm font-semibold text-amber-700\">\r\n                    <span className=\"text-xl\">âœˆï¸</span>\r\n                    <span>Ticket</span>\r\n                  </div>\r\n\r\n                  <div className=\"font-medium\">\r\n                    {previewPkg.flights?.selectedAirline?.name ||\r\n                      previewPkg.flights?.airline?.name ||\r\n                      previewPkg.selectedAirline?.name ||\r\n                      previewPkg.flights?.airline ||\r\n                      \"â€”\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <Footer />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}