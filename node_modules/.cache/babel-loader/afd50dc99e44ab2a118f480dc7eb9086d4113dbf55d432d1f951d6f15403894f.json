{"ast":null,"code":"import _objectSpread from\"C:/Users/Taj Tech/Downloads/umrah-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/services/airlineService.js\nimport airlinesData from\"../data/airlines.json\";const STORAGE_KEY=\"umrah_app_airlines_v1\";function readFromStorage(){try{const raw=localStorage.getItem(STORAGE_KEY);if(!raw)return null;return JSON.parse(raw);}catch(e){console.error(\"airlineService: failed to read from localStorage\",e);return null;}}function writeToStorage(data){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(data));}catch(e){console.error(\"airlineService: failed to write to localStorage\",e);}}function initData(){const stored=readFromStorage();if(stored&&Array.isArray(stored))return stored;// clone default data to avoid accidental mutation\nconst cloned=airlinesData.map(a=>_objectSpread({},a));writeToStorage(cloned);return cloned;}let airlines=initData();export function getAllAirlines(){// return a shallow copy\nreturn[...airlines];}export function getAirlineById(id){return airlines.find(a=>a.id===id)||null;}export function addAirline(_ref){let{name,code,logo=null}=_ref;const id=\"air-\"+Date.now();const newAir={id,name,code,logo};airlines=[newAir,...airlines];writeToStorage(airlines);return newAir;}export function updateAirline(id,_ref2){let{name,code,logo=null}=_ref2;airlines=airlines.map(a=>a.id===id?_objectSpread(_objectSpread({},a),{},{name,code,logo}):a);writeToStorage(airlines);return getAirlineById(id);}export function removeAirline(id){const before=airlines.length;airlines=airlines.filter(a=>a.id!==id);writeToStorage(airlines);return airlines.length<before;}export function resetAirlinesToDefault(){const cloned=airlinesData.map(a=>_objectSpread({},a));airlines=cloned;writeToStorage(airlines);return getAllAirlines();}","map":{"version":3,"names":["airlinesData","STORAGE_KEY","readFromStorage","raw","localStorage","getItem","JSON","parse","e","console","error","writeToStorage","data","setItem","stringify","initData","stored","Array","isArray","cloned","map","a","_objectSpread","airlines","getAllAirlines","getAirlineById","id","find","addAirline","_ref","name","code","logo","Date","now","newAir","updateAirline","_ref2","removeAirline","before","length","filter","resetAirlinesToDefault"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/services/airlineService.js"],"sourcesContent":["// src/services/airlineService.js\r\nimport airlinesData from \"../data/airlines.json\";\r\n\r\nconst STORAGE_KEY = \"umrah_app_airlines_v1\";\r\n\r\nfunction readFromStorage() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY);\r\n    if (!raw) return null;\r\n    return JSON.parse(raw);\r\n  } catch (e) {\r\n    console.error(\"airlineService: failed to read from localStorage\", e);\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction writeToStorage(data) {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\r\n  } catch (e) {\r\n    console.error(\"airlineService: failed to write to localStorage\", e);\r\n  }\r\n}\r\n\r\nfunction initData() {\r\n  const stored = readFromStorage();\r\n  if (stored && Array.isArray(stored)) return stored;\r\n  // clone default data to avoid accidental mutation\r\n  const cloned = airlinesData.map((a) => ({ ...a }));\r\n  writeToStorage(cloned);\r\n  return cloned;\r\n}\r\n\r\nlet airlines = initData();\r\n\r\nexport function getAllAirlines() {\r\n  // return a shallow copy\r\n  return [...airlines];\r\n}\r\n\r\nexport function getAirlineById(id) {\r\n  return airlines.find((a) => a.id === id) || null;\r\n}\r\n\r\nexport function addAirline({ name, code, logo = null }) {\r\n  const id = \"air-\" + Date.now();\r\n  const newAir = { id, name, code, logo };\r\n  airlines = [newAir, ...airlines];\r\n  writeToStorage(airlines);\r\n  return newAir;\r\n}\r\n\r\nexport function updateAirline(id, { name, code, logo = null }) {\r\n  airlines = airlines.map((a) =>\r\n    a.id === id ? { ...a, name, code, logo } : a\r\n  );\r\n  writeToStorage(airlines);\r\n  return getAirlineById(id);\r\n}\r\n\r\nexport function removeAirline(id) {\r\n  const before = airlines.length;\r\n  airlines = airlines.filter((a) => a.id !== id);\r\n  writeToStorage(airlines);\r\n  return airlines.length < before;\r\n}\r\n\r\nexport function resetAirlinesToDefault() {\r\n  const cloned = airlinesData.map((a) => ({ ...a }));\r\n  airlines = cloned;\r\n  writeToStorage(airlines);\r\n  return getAllAirlines();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}