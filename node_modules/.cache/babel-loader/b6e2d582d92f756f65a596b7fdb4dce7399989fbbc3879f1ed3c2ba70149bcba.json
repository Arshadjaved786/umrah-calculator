{"ast":null,"code":"import React from\"react\";import{BrowserRouter,Routes,Route,Navigate,Link,Outlet}from\"react-router-dom\";import{useApp}from\"./contexts/AppContext\";import Onboarding from\"./pages/Onboarding\";import UmrahCalculator from\"./pages/UmrahCalculator\";import AgencyForm from\"./components/AgencyForm\";import FooterForm from\"./pages/FooterForm\";import AgencyPublic from\"./pages/AgencyPublic\";import ManageAirlinesPage from\"./pages/ManageAirlinesPage\";import ManageAirportsPage from\"./pages/ManageAirportsPage\";import AirportSearch from\"./components/AirportSearch\";// ‚≠ê ŸÜÿ¶€å import (Trip Planner Page)\nimport TripPlanner from\"./pages/TripPlanner\";/** NavButton ‚Äî equal width, gradient backgrounds */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NavButton(_ref){let{to,label,gradientClass,textClass=\"text-white\"}=_ref;return/*#__PURE__*/_jsx(Link,{to:to,className:\"\".concat(gradientClass,\" \").concat(textClass,\" px-3 py-2 rounded-md shadow-sm hover:opacity-95 transition w-full md:w-28 text-center text-sm font-medium\"),children:label});}/**\r\n * HeaderWithSearch:\r\n * - Title (left), AirportSearch (center, wider), nav buttons (right, fixed width)\r\n */function HeaderWithSearch(){return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mx-auto px-4 py-2 flex flex-col gap-3 md:flex-row md:items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-3xl font-extrabold bg-gradient-to-r from-indigo-600 via-pink-500 to-purple-600 text-transparent bg-clip-text\",children:\"Umrah Calculator\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-full px-0 md:px-4\",children:/*#__PURE__*/_jsx(AirportSearch,{})})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex flex-wrap justify-center md:justify-end gap-2 w-full md:w-auto\",children:[/*#__PURE__*/_jsx(NavButton,{to:\"/\",label:\"Dashboard\",gradientClass:\"bg-gradient-to-r from-blue-500 to-blue-700\"}),/*#__PURE__*/_jsx(NavButton,{to:\"/trip-planner\",label:\"Trip Planner\",gradientClass:\"bg-gradient-to-r from-teal-400 to-teal-600\"}),/*#__PURE__*/_jsx(NavButton,{to:\"/agency\",label:\"Agency\",gradientClass:\"bg-gradient-to-r from-yellow-300 to-yellow-500\",textClass:\"text-black\"}),/*#__PURE__*/_jsx(NavButton,{to:\"/footer\",label:\"Footer\",gradientClass:\"bg-gradient-to-r from-rose-400 to-rose-600\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.clear();window.location.reload();},className:\"px-4 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-md shadow-sm hover:opacity-95 transition\",children:\"Reset\"})]})]})});}function MainLayout(){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 flex flex-col overflow-x-hidden\",children:[/*#__PURE__*/_jsx(HeaderWithSearch,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 w-full p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(Outlet,{})})}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-white border-t mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-4 text-sm text-gray-600\",children:\"\\xA9 Umrah Calculator\"})})]});}export default function App(){const ctx=useApp();if(!ctx)return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:\"Loading application...\"});const{auth}=ctx;return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/agency/:slug\",element:/*#__PURE__*/_jsx(AgencyPublic,{})}),!auth||!auth.isLoggedIn?/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Onboarding,{})}):!auth.onboardedAgency?/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(AgencyForm,{})}):!auth.onboardedFooter?/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(FooterForm,{})}):/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(MainLayout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(UmrahCalculator,{})}),/*#__PURE__*/_jsx(Route,{path:\"/trip-planner\",element:/*#__PURE__*/_jsx(TripPlanner,{})}),/*#__PURE__*/_jsx(Route,{path:\"/agency\",element:/*#__PURE__*/_jsx(AgencyForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/footer\",element:/*#__PURE__*/_jsx(FooterForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/manage-airlines\",element:/*#__PURE__*/_jsx(ManageAirlinesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})]})});}","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","Navigate","Link","Outlet","useApp","Onboarding","UmrahCalculator","AgencyForm","FooterForm","AgencyPublic","ManageAirlinesPage","ManageAirportsPage","AirportSearch","TripPlanner","jsx","_jsx","jsxs","_jsxs","NavButton","_ref","to","label","gradientClass","textClass","className","concat","children","HeaderWithSearch","onClick","localStorage","clear","window","location","reload","MainLayout","App","ctx","auth","path","element","isLoggedIn","onboardedAgency","onboardedFooter","replace"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/App.jsx"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  BrowserRouter,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  Link,\r\n  Outlet,\r\n} from \"react-router-dom\";\r\n\r\nimport { useApp } from \"./contexts/AppContext\";\r\n\r\nimport Onboarding from \"./pages/Onboarding\";\r\nimport UmrahCalculator from \"./pages/UmrahCalculator\";\r\nimport AgencyForm from \"./components/AgencyForm\";\r\nimport FooterForm from \"./pages/FooterForm\";\r\nimport AgencyPublic from \"./pages/AgencyPublic\";\r\nimport ManageAirlinesPage from \"./pages/ManageAirlinesPage\";\r\nimport ManageAirportsPage from \"./pages/ManageAirportsPage\";\r\nimport AirportSearch from \"./components/AirportSearch\";\r\n\r\n// ‚≠ê ŸÜÿ¶€å import (Trip Planner Page)\r\nimport TripPlanner from \"./pages/TripPlanner\";\r\n\r\n/** NavButton ‚Äî equal width, gradient backgrounds */\r\nfunction NavButton({ to, label, gradientClass, textClass = \"text-white\" }) {\r\n  return (\r\n    <Link\r\n      to={to}\r\n      className={`${gradientClass} ${textClass} px-3 py-2 rounded-md shadow-sm hover:opacity-95 transition w-full md:w-28 text-center text-sm font-medium`}\r\n    >\r\n      {label}\r\n    </Link>\r\n  );\r\n}\r\n\r\n/**\r\n * HeaderWithSearch:\r\n * - Title (left), AirportSearch (center, wider), nav buttons (right, fixed width)\r\n */\r\nfunction HeaderWithSearch() {\r\n  return (\r\n    <header className=\"bg-white shadow\">\r\n      <div className=\"w-full mx-auto px-4 py-2 flex flex-col gap-3 md:flex-row md:items-center\">\r\n        {/* Left Title: fixed left */}\r\n        <div className=\"flex-shrink-0\">\r\n          <Link\r\n            to=\"/\"\r\n            className=\"text-3xl font-extrabold bg-gradient-to-r from-indigo-600 via-pink-500 to-purple-600 text-transparent bg-clip-text\"\r\n          >\r\n            Umrah Calculator\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Center Search: grows and centered, wider max width */}\r\n        <div className=\"flex-1 flex justify-center\">\r\n          <div className=\"w-full max-w-full px-0 md:px-4\">\r\n            <AirportSearch />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Nav Buttons: fixed-size buttons, won't shrink */}\r\n        <nav className=\"flex flex-wrap justify-center md:justify-end gap-2 w-full md:w-auto\">\r\n          <NavButton\r\n            to=\"/\"\r\n            label=\"Dashboard\"\r\n            gradientClass=\"bg-gradient-to-r from-blue-500 to-blue-700\"\r\n          />\r\n\r\n          <NavButton\r\n            to=\"/trip-planner\"\r\n            label=\"Trip Planner\"\r\n            gradientClass=\"bg-gradient-to-r from-teal-400 to-teal-600\"\r\n          />\r\n\r\n          <NavButton\r\n            to=\"/agency\"\r\n            label=\"Agency\"\r\n            gradientClass=\"bg-gradient-to-r from-yellow-300 to-yellow-500\"\r\n            textClass=\"text-black\"\r\n          />\r\n\r\n          <NavButton\r\n            to=\"/footer\"\r\n            label=\"Footer\"\r\n            gradientClass=\"bg-gradient-to-r from-rose-400 to-rose-600\"\r\n          />\r\n\r\n          <button\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              window.location.reload();\r\n            }}\r\n            className=\"px-4 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-md shadow-sm hover:opacity-95 transition\"\r\n          >\r\n            Reset\r\n          </button>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction MainLayout() {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex flex-col overflow-x-hidden\">\r\n      {/* Header */}\r\n      <HeaderWithSearch />\r\n\r\n      {/* Content */}\r\n      <main className=\"flex-1 w-full p-2\">\r\n        <div className=\"w-full\">\r\n          {/* pages render here */}\r\n          <Outlet />\r\n        </div>\r\n      </main>\r\n\r\n      <footer className=\"bg-white border-t mt-4\">\r\n        <div className=\"w-full p-4 text-sm text-gray-600\">\r\n          ¬© Umrah Calculator\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const ctx = useApp();\r\n\r\n  if (!ctx) return <div className=\"p-6\">Loading application...</div>;\r\n  const { auth } = ctx;\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        {/* üîì PUBLIC QR ROUTE (NO HEADER / NO NAV) */}\r\n        <Route path=\"/agency/:slug\" element={<AgencyPublic />} />\r\n\r\n        {/* Onboarding System */}\r\n        {!auth || !auth.isLoggedIn ? (\r\n          <Route path=\"*\" element={<Onboarding />} />\r\n        ) : !auth.onboardedAgency ? (\r\n          <Route path=\"*\" element={<AgencyForm />} />\r\n        ) : !auth.onboardedFooter ? (\r\n          <Route path=\"*\" element={<FooterForm />} />\r\n        ) : (\r\n          <Route element={<MainLayout />}>\r\n            {/* Home ‚Üí Umrah Calculator */}\r\n            <Route path=\"/\" element={<UmrahCalculator />} />\r\n\r\n            {/* ‚≠ê ŸÜ€åÿß ŸÅ€å⁄Üÿ± ‚Äî Trip Planner */}\r\n            <Route path=\"/trip-planner\" element={<TripPlanner />} />\r\n\r\n            {/* Old Routes */}\r\n\r\n            <Route path=\"/agency\" element={<AgencyForm />} />\r\n            <Route path=\"/footer\" element={<FooterForm />} />\r\n\r\n            <Route path=\"/manage-airlines\" element={<ManageAirlinesPage />} />\r\n\r\n            {/* Fallback */}\r\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n          </Route>\r\n        )}\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OACEC,aAAa,CACbC,MAAM,CACNC,KAAK,CACLC,QAAQ,CACRC,IAAI,CACJC,MAAM,KACD,kBAAkB,CAEzB,OAASC,MAAM,KAAQ,uBAAuB,CAE9C,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,eAAe,KAAM,yBAAyB,CACrD,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,kBAAkB,KAAM,4BAA4B,CAC3D,MAAO,CAAAC,kBAAkB,KAAM,4BAA4B,CAC3D,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAEtD;AACA,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAE7C,2DAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAyD,IAAxD,CAAEC,EAAE,CAAEC,KAAK,CAAEC,aAAa,CAAEC,SAAS,CAAG,YAAa,CAAC,CAAAJ,IAAA,CACvE,mBACEJ,IAAA,CAACb,IAAI,EACHkB,EAAE,CAAEA,EAAG,CACPI,SAAS,IAAAC,MAAA,CAAKH,aAAa,MAAAG,MAAA,CAAIF,SAAS,8GAA6G,CAAAG,QAAA,CAEpJL,KAAK,CACF,CAAC,CAEX,CAEA;AACA;AACA;AACA,GACA,QAAS,CAAAM,gBAAgBA,CAAA,CAAG,CAC1B,mBACEZ,IAAA,WAAQS,SAAS,CAAC,iBAAiB,CAAAE,QAAA,cACjCT,KAAA,QAAKO,SAAS,CAAC,0EAA0E,CAAAE,QAAA,eAEvFX,IAAA,QAAKS,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5BX,IAAA,CAACb,IAAI,EACHkB,EAAE,CAAC,GAAG,CACNI,SAAS,CAAC,mHAAmH,CAAAE,QAAA,CAC9H,kBAED,CAAM,CAAC,CACJ,CAAC,cAGNX,IAAA,QAAKS,SAAS,CAAC,4BAA4B,CAAAE,QAAA,cACzCX,IAAA,QAAKS,SAAS,CAAC,gCAAgC,CAAAE,QAAA,cAC7CX,IAAA,CAACH,aAAa,GAAE,CAAC,CACd,CAAC,CACH,CAAC,cAGNK,KAAA,QAAKO,SAAS,CAAC,qEAAqE,CAAAE,QAAA,eAClFX,IAAA,CAACG,SAAS,EACRE,EAAE,CAAC,GAAG,CACNC,KAAK,CAAC,WAAW,CACjBC,aAAa,CAAC,4CAA4C,CAC3D,CAAC,cAEFP,IAAA,CAACG,SAAS,EACRE,EAAE,CAAC,eAAe,CAClBC,KAAK,CAAC,cAAc,CACpBC,aAAa,CAAC,4CAA4C,CAC3D,CAAC,cAEFP,IAAA,CAACG,SAAS,EACRE,EAAE,CAAC,SAAS,CACZC,KAAK,CAAC,QAAQ,CACdC,aAAa,CAAC,gDAAgD,CAC9DC,SAAS,CAAC,YAAY,CACvB,CAAC,cAEFR,IAAA,CAACG,SAAS,EACRE,EAAE,CAAC,SAAS,CACZC,KAAK,CAAC,QAAQ,CACdC,aAAa,CAAC,4CAA4C,CAC3D,CAAC,cAEFP,IAAA,WACEa,OAAO,CAAEA,CAAA,GAAM,CACbC,YAAY,CAACC,KAAK,CAAC,CAAC,CACpBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAE,CACFT,SAAS,CAAC,gHAAgH,CAAAE,QAAA,CAC3H,OAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACA,CAAC,CAEb,CAEA,QAAS,CAAAQ,UAAUA,CAAA,CAAG,CACpB,mBACEjB,KAAA,QAAKO,SAAS,CAAC,0DAA0D,CAAAE,QAAA,eAEvEX,IAAA,CAACY,gBAAgB,GAAE,CAAC,cAGpBZ,IAAA,SAAMS,SAAS,CAAC,mBAAmB,CAAAE,QAAA,cACjCX,IAAA,QAAKS,SAAS,CAAC,QAAQ,CAAAE,QAAA,cAErBX,IAAA,CAACZ,MAAM,GAAE,CAAC,CACP,CAAC,CACF,CAAC,cAEPY,IAAA,WAAQS,SAAS,CAAC,wBAAwB,CAAAE,QAAA,cACxCX,IAAA,QAAKS,SAAS,CAAC,kCAAkC,CAAAE,QAAA,CAAC,uBAElD,CAAK,CAAC,CACA,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,SAAS,CAAAS,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAAAC,GAAG,CAAGhC,MAAM,CAAC,CAAC,CAEpB,GAAI,CAACgC,GAAG,CAAE,mBAAOrB,IAAA,QAAKS,SAAS,CAAC,KAAK,CAAAE,QAAA,CAAC,wBAAsB,CAAK,CAAC,CAClE,KAAM,CAAEW,IAAK,CAAC,CAAGD,GAAG,CAEpB,mBACErB,IAAA,CAACjB,aAAa,EAAA4B,QAAA,cACZT,KAAA,CAAClB,MAAM,EAAA2B,QAAA,eAELX,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,eAAe,CAACC,OAAO,cAAExB,IAAA,CAACN,YAAY,GAAE,CAAE,CAAE,CAAC,CAGxD,CAAC4B,IAAI,EAAI,CAACA,IAAI,CAACG,UAAU,cACxBzB,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAExB,IAAA,CAACV,UAAU,GAAE,CAAE,CAAE,CAAC,CACzC,CAACgC,IAAI,CAACI,eAAe,cACvB1B,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAExB,IAAA,CAACR,UAAU,GAAE,CAAE,CAAE,CAAC,CACzC,CAAC8B,IAAI,CAACK,eAAe,cACvB3B,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAExB,IAAA,CAACP,UAAU,GAAE,CAAE,CAAE,CAAC,cAE3CS,KAAA,CAACjB,KAAK,EAACuC,OAAO,cAAExB,IAAA,CAACmB,UAAU,GAAE,CAAE,CAAAR,QAAA,eAE7BX,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAExB,IAAA,CAACT,eAAe,GAAE,CAAE,CAAE,CAAC,cAGhDS,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,eAAe,CAACC,OAAO,cAAExB,IAAA,CAACF,WAAW,GAAE,CAAE,CAAE,CAAC,cAIxDE,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAExB,IAAA,CAACR,UAAU,GAAE,CAAE,CAAE,CAAC,cACjDQ,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAExB,IAAA,CAACP,UAAU,GAAE,CAAE,CAAE,CAAC,cAEjDO,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAExB,IAAA,CAACL,kBAAkB,GAAE,CAAE,CAAE,CAAC,cAGlEK,IAAA,CAACf,KAAK,EAACsC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAExB,IAAA,CAACd,QAAQ,EAACmB,EAAE,CAAC,GAAG,CAACuB,OAAO,MAAE,CAAE,CAAE,CAAC,EACnD,CACR,EACK,CAAC,CACI,CAAC,CAEpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}