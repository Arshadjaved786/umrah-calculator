{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Taj Tech\\\\Downloads\\\\umrah-calculator\\\\src\\\\components\\\\QR\\\\QRGenerator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { buildQrUrl, downloadQrAsPng } from \"../../services/qrService\";\n\n/**\r\n * QRGenerator.jsx (updated)\r\n *\r\n * Props:\r\n * - value (string)         -> required\r\n * - size (number)          -> px default 300\r\n * - fileName (string)      -> download name\r\n * - showCopy (bool)        -> default true\r\n * - showDownload (bool)    -> default true\r\n * - showLink (bool)        -> show textual link (default true)\r\n * - showActions (bool)     -> show Open/Copy/Download buttons (default true)\r\n * - className (string)\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function QRGenerator({\n  value,\n  size = 300,\n  fileName = \"qr.png\",\n  showCopy = true,\n  showDownload = true,\n  showLink = true,\n  showActions = true,\n  className = \"\"\n}) {\n  _s();\n  const [src, setSrc] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const pxSize = `${size}x${size}`;\n  useEffect(() => {\n    if (!value) {\n      setSrc(\"\");\n      setLoading(false);\n      setError(\"No value provided for QR\");\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const url = buildQrUrl(value, pxSize);\n      setSrc(url);\n    } catch (err) {\n      console.error(\"QR build failed\", err);\n      setError(\"QR بنانے میں مسئلہ ہوا\");\n      setSrc(\"\");\n    } finally {\n      setLoading(false);\n    }\n  }, [value, pxSize]);\n  async function handleDownload() {\n    if (!value) return;\n    try {\n      setLoading(true);\n      // download at higher resolution for print\n      await downloadQrAsPng(value, fileName, \"800x800\");\n    } catch (err) {\n      console.error(\"Download failed\", err);\n      setError(\"Download ناکام ہوا\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function handleCopy() {\n    if (!value) return;\n    try {\n      await navigator.clipboard.writeText(value);\n      alert(\"Link copied to clipboard\");\n    } catch (err) {\n      console.error(\"Copy failed\", err);\n      setError(\"Copy نہیں ہو سکا\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `qr-generator ${className}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border p-1 rounded flex items-center justify-center\",\n        style: {\n          width: size,\n          height: size,\n          minWidth: size,\n          minHeight: size\n        },\n        \"aria-hidden\": loading || !!error,\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-red-500 text-center\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: src,\n          alt: \"QR code\",\n          className: \"w-full h-full object-contain\",\n          style: {\n            imageRendering: \"pixelated\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [showLink && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700 break-words\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: \"Profile Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: value,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            className: \"text-xs text-indigo-600 underline\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), showActions && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 flex items-center gap-2\",\n          children: [showDownload && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDownload,\n            className: \"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200\",\n            type: \"button\",\n            \"aria-label\": \"Download QR\",\n            children: \"Download QR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this), showCopy && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCopy,\n            className: \"px-3 py-1 border rounded text-sm hover:bg-gray-50\",\n            type: \"button\",\n            \"aria-label\": \"Copy link\",\n            children: \"Copy Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.open(value, \"_blank\", \"noopener\"),\n            className: \"px-3 py-1 border rounded text-sm hover:bg-gray-50\",\n            type: \"button\",\n            \"aria-label\": \"Open link\",\n            children: \"Open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-red-500 mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s(QRGenerator, \"yTDozwm/f7kg5iW71q9Gz23vRhU=\");\n_c = QRGenerator;\nvar _c;\n$RefreshReg$(_c, \"QRGenerator\");","map":{"version":3,"names":["React","useState","useEffect","buildQrUrl","downloadQrAsPng","jsxDEV","_jsxDEV","QRGenerator","value","size","fileName","showCopy","showDownload","showLink","showActions","className","_s","src","setSrc","loading","setLoading","error","setError","pxSize","url","err","console","handleDownload","handleCopy","navigator","clipboard","writeText","alert","children","style","width","height","minWidth","minHeight","_jsxFileName","lineNumber","columnNumber","alt","imageRendering","href","target","rel","onClick","type","window","open","_c","$RefreshReg$"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/components/QR/QRGenerator.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { buildQrUrl, downloadQrAsPng } from \"../../services/qrService\";\r\n\r\n/**\r\n * QRGenerator.jsx (updated)\r\n *\r\n * Props:\r\n * - value (string)         -> required\r\n * - size (number)          -> px default 300\r\n * - fileName (string)      -> download name\r\n * - showCopy (bool)        -> default true\r\n * - showDownload (bool)    -> default true\r\n * - showLink (bool)        -> show textual link (default true)\r\n * - showActions (bool)     -> show Open/Copy/Download buttons (default true)\r\n * - className (string)\r\n */\r\n\r\nexport default function QRGenerator({\r\n  value,\r\n  size = 300,\r\n  fileName = \"qr.png\",\r\n  showCopy = true,\r\n  showDownload = true,\r\n  showLink = true,\r\n  showActions = true,\r\n  className = \"\",\r\n}) {\r\n  const [src, setSrc] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const pxSize = `${size}x${size}`;\r\n\r\n  useEffect(() => {\r\n    if (!value) {\r\n      setSrc(\"\");\r\n      setLoading(false);\r\n      setError(\"No value provided for QR\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const url = buildQrUrl(value, pxSize);\r\n      setSrc(url);\r\n    } catch (err) {\r\n      console.error(\"QR build failed\", err);\r\n      setError(\"QR بنانے میں مسئلہ ہوا\");\r\n      setSrc(\"\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [value, pxSize]);\r\n\r\n  async function handleDownload() {\r\n    if (!value) return;\r\n    try {\r\n      setLoading(true);\r\n      // download at higher resolution for print\r\n      await downloadQrAsPng(value, fileName, \"800x800\");\r\n    } catch (err) {\r\n      console.error(\"Download failed\", err);\r\n      setError(\"Download ناکام ہوا\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleCopy() {\r\n    if (!value) return;\r\n    try {\r\n      await navigator.clipboard.writeText(value);\r\n      alert(\"Link copied to clipboard\");\r\n    } catch (err) {\r\n      console.error(\"Copy failed\", err);\r\n      setError(\"Copy نہیں ہو سکا\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`qr-generator ${className}`}>\r\n      <div className=\"flex items-center gap-3\">\r\n        <div\r\n          className=\"bg-white border p-1 rounded flex items-center justify-center\"\r\n          style={{\r\n            width: size,\r\n            height: size,\r\n            minWidth: size,\r\n            minHeight: size,\r\n          }}\r\n          aria-hidden={loading || !!error}\r\n        >\r\n          {loading ? (\r\n            <div className=\"text-xs text-gray-500\">Loading...</div>\r\n          ) : error ? (\r\n            <div className=\"text-xs text-red-500 text-center\">{error}</div>\r\n          ) : (\r\n            <img\r\n              src={src}\r\n              alt=\"QR code\"\r\n              className=\"w-full h-full object-contain\"\r\n              style={{ imageRendering: \"pixelated\" }}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex-1\">\r\n          {showLink && (\r\n            <div className=\"text-sm text-gray-700 break-words\">\r\n              <div className=\"font-medium\">Profile Link</div>\r\n              <a\r\n                href={value}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                className=\"text-xs text-indigo-600 underline\"\r\n              >\r\n                {value}\r\n              </a>\r\n            </div>\r\n          )}\r\n\r\n          {showActions && (\r\n            <div className=\"mt-2 flex items-center gap-2\">\r\n              {showDownload && (\r\n                <button\r\n                  onClick={handleDownload}\r\n                  className=\"px-3 py-1 bg-gray-100 border rounded text-sm hover:bg-gray-200\"\r\n                  type=\"button\"\r\n                  aria-label=\"Download QR\"\r\n                >\r\n                  Download QR\r\n                </button>\r\n              )}\r\n\r\n              {showCopy && (\r\n                <button\r\n                  onClick={handleCopy}\r\n                  className=\"px-3 py-1 border rounded text-sm hover:bg-gray-50\"\r\n                  type=\"button\"\r\n                  aria-label=\"Copy link\"\r\n                >\r\n                  Copy Link\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => window.open(value, \"_blank\", \"noopener\")}\r\n                className=\"px-3 py-1 border rounded text-sm hover:bg-gray-50\"\r\n                type=\"button\"\r\n                aria-label=\"Open link\"\r\n              >\r\n                Open\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {error && <div className=\"text-xs text-red-500 mt-2\">{error}</div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,EAAEC,eAAe,QAAQ,0BAA0B;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA,SAAAC,MAAA,IAAAC,OAAA;AAcA,eAAe,SAASC,WAAWA,CAAC;EAClCC,KAAK;EACLC,IAAI,GAAG,GAAG;EACVC,QAAQ,GAAG,QAAQ;EACnBC,QAAQ,GAAG,IAAI;EACfC,YAAY,GAAG,IAAI;EACnBC,QAAQ,GAAG,IAAI;EACfC,WAAW,GAAG,IAAI;EAClBC,SAAS,GAAG;AACd,CAAC,EAAE;EAAAC,EAAA;EACD,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMsB,MAAM,GAAG,GAAGd,IAAI,IAAIA,IAAI,EAAE;EAEhCP,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,KAAK,EAAE;MACVU,MAAM,CAAC,EAAE,CAAC;MACVE,UAAU,CAAC,KAAK,CAAC;MACjBE,QAAQ,CAAC,0BAA0B,CAAC;MACpC;IACF;IAEAF,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAME,GAAG,GAAGrB,UAAU,CAACK,KAAK,EAAEe,MAAM,CAAC;MACrCL,MAAM,CAACM,GAAG,CAAC;IACb,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACL,KAAK,CAAC,iBAAiB,EAAEI,GAAG,CAAC;MACrCH,QAAQ,CAAC,wBAAwB,CAAC;MAClCJ,MAAM,CAAC,EAAE,CAAC;IACZ,CAAC,SAAS;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACZ,KAAK,EAAEe,MAAM,CAAC,CAAC;EAEnB,eAAeI,cAAcA,CAAA,EAAG;IAC9B,IAAI,CAACnB,KAAK,EAAE;IACZ,IAAI;MACFY,UAAU,CAAC,IAAI,CAAC;MAChB;MACA,MAAMhB,eAAe,CAACI,KAAK,EAAEE,QAAQ,EAAE,SAAS,CAAC;IACnD,CAAC,CAAC,OAAOe,GAAG,EAAE;MACZC,OAAO,CAACL,KAAK,CAAC,iBAAiB,EAAEI,GAAG,CAAC;MACrCH,QAAQ,CAAC,oBAAoB,CAAC;IAChC,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,eAAeQ,UAAUA,CAAA,EAAG;IAC1B,IAAI,CAACpB,KAAK,EAAE;IACZ,IAAI;MACF,MAAMqB,SAAS,CAACC,SAAS,CAACC,SAAS,CAACvB,KAAK,CAAC;MAC1CwB,KAAK,CAAC,0BAA0B,CAAC;IACnC,CAAC,CAAC,OAAOP,GAAG,EAAE;MACZC,OAAO,CAACL,KAAK,CAAC,aAAa,EAAEI,GAAG,CAAC;MACjCH,QAAQ,CAAC,kBAAkB,CAAC;IAC9B;EACF;EAEA,oBACEhB,OAAA;IAAKS,SAAS,EAAE,gBAAgBA,SAAS,EAAG;IAAAkB,QAAA,eAC1C3B,OAAA;MAAKS,SAAS,EAAC,yBAAyB;MAAAkB,QAAA,gBACtC3B,OAAA;QACES,SAAS,EAAC,8DAA8D;QACxEmB,KAAK,EAAE;UACLC,KAAK,EAAE1B,IAAI;UACX2B,MAAM,EAAE3B,IAAI;UACZ4B,QAAQ,EAAE5B,IAAI;UACd6B,SAAS,EAAE7B;QACb,CAAE;QACF,eAAaU,OAAO,IAAI,CAAC,CAACE,KAAM;QAAAY,QAAA,EAE/Bd,OAAO,gBACNb,OAAA;UAAKS,SAAS,EAAC,uBAAuB;UAAAkB,QAAA,EAAC;QAAU;UAAAvB,QAAA,EAAA6B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,GACrDpB,KAAK,gBACPf,OAAA;UAAKS,SAAS,EAAC,kCAAkC;UAAAkB,QAAA,EAAEZ;QAAK;UAAAX,QAAA,EAAA6B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,gBAE/DnC,OAAA;UACEW,GAAG,EAAEA,GAAI;UACTyB,GAAG,EAAC,SAAS;UACb3B,SAAS,EAAC,8BAA8B;UACxCmB,KAAK,EAAE;YAAES,cAAc,EAAE;UAAY;QAAE;UAAAjC,QAAA,EAAA6B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC;MACF;QAAA/B,QAAA,EAAA6B,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENnC,OAAA;QAAKS,SAAS,EAAC,QAAQ;QAAAkB,QAAA,GACpBpB,QAAQ,iBACPP,OAAA;UAAKS,SAAS,EAAC,mCAAmC;UAAAkB,QAAA,gBAChD3B,OAAA;YAAKS,SAAS,EAAC,aAAa;YAAAkB,QAAA,EAAC;UAAY;YAAAvB,QAAA,EAAA6B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC/CnC,OAAA;YACEsC,IAAI,EAAEpC,KAAM;YACZqC,MAAM,EAAC,QAAQ;YACfC,GAAG,EAAC,YAAY;YAChB/B,SAAS,EAAC,mCAAmC;YAAAkB,QAAA,EAE5CzB;UAAK;YAAAE,QAAA,EAAA6B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAA/B,QAAA,EAAA6B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CACN,EAEA3B,WAAW,iBACVR,OAAA;UAAKS,SAAS,EAAC,8BAA8B;UAAAkB,QAAA,GAC1CrB,YAAY,iBACXN,OAAA;YACEyC,OAAO,EAAEpB,cAAe;YACxBZ,SAAS,EAAC,gEAAgE;YAC1EiC,IAAI,EAAC,QAAQ;YACb,cAAW,aAAa;YAAAf,QAAA,EACzB;UAED;YAAAvB,QAAA,EAAA6B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT,EAEA9B,QAAQ,iBACPL,OAAA;YACEyC,OAAO,EAAEnB,UAAW;YACpBb,SAAS,EAAC,mDAAmD;YAC7DiC,IAAI,EAAC,QAAQ;YACb,cAAW,WAAW;YAAAf,QAAA,EACvB;UAED;YAAAvB,QAAA,EAAA6B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT,eAEDnC,OAAA;YACEyC,OAAO,EAAEA,CAAA,KAAME,MAAM,CAACC,IAAI,CAAC1C,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAE;YACxDO,SAAS,EAAC,mDAAmD;YAC7DiC,IAAI,EAAC,QAAQ;YACb,cAAW,WAAW;YAAAf,QAAA,EACvB;UAED;YAAAvB,QAAA,EAAA6B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAA/B,QAAA,EAAA6B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,EAEApB,KAAK,iBAAIf,OAAA;UAAKS,SAAS,EAAC,2BAA2B;UAAAkB,QAAA,EAAEZ;QAAK;UAAAX,QAAA,EAAA6B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAA/B,QAAA,EAAA6B,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/D,CAAC;IAAA;MAAA/B,QAAA,EAAA6B,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAA/B,QAAA,EAAA6B,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzB,EAAA,CAjJuBT,WAAW;AAAA4C,EAAA,GAAX5C,WAAW;AAAA,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}