{"ast":null,"code":"import _objectSpread from\"C:/Users/Taj Tech/Downloads/umrah-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/services/airportService.js\n// Full English-only Airport CRUD service.\nimport{loadAirportsFromStorage,saveAirportsToStorage}from\"../utils/airports\";function generateId(){let prefix=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";return prefix+Math.random().toString(36).slice(2,9);}export function getAllCountries(){return loadAirportsFromStorage();}export function searchAirports(query){const q=(query||\"\").trim().toLowerCase();if(!q)return[];const data=loadAirportsFromStorage();const results=[];data.forEach(country=>{if(country.country.toLowerCase().includes(q)){country.airports.forEach(a=>results.push(_objectSpread(_objectSpread({},a),{},{country:country.country})));}else{country.airports.forEach(a=>{if(a.name.toLowerCase().includes(q)||a.iata.toLowerCase().includes(q)){results.push(_objectSpread(_objectSpread({},a),{},{country:country.country}));}});}});return results;}export function addCountry(_ref){let{country}=_ref;const data=loadAirportsFromStorage();const newItem={id:generateId(\"country-\"),country,airports:[]};data.push(newItem);saveAirportsToStorage(data);return newItem;}export function updateCountry(id,_ref2){let{country}=_ref2;const data=loadAirportsFromStorage();const index=data.findIndex(c=>c.id===id);if(index===-1)return null;data[index].country=country;saveAirportsToStorage(data);return data[index];}export function deleteCountry(id){let data=loadAirportsFromStorage();data=data.filter(c=>c.id!==id);saveAirportsToStorage(data);return true;}export function addAirportToCountry(countryId,_ref3){let{name,iata}=_ref3;const data=loadAirportsFromStorage();const country=data.find(c=>c.id===countryId);if(!country)return null;const airport={id:generateId(\"ap-\"),name,iata:iata.toUpperCase()};country.airports.push(airport);saveAirportsToStorage(data);return airport;}export function updateAirport(countryId,airportId,_ref4){let{name,iata}=_ref4;const data=loadAirportsFromStorage();const country=data.find(c=>c.id===countryId);if(!country)return null;const airport=country.airports.find(a=>a.id===airportId);if(!airport)return null;airport.name=name;airport.iata=iata.toUpperCase();saveAirportsToStorage(data);return airport;}export function deleteAirport(countryId,airportId){const data=loadAirportsFromStorage();const country=data.find(c=>c.id===countryId);if(!country)return false;country.airports=country.airports.filter(a=>a.id!==airportId);saveAirportsToStorage(data);return true;}","map":{"version":3,"names":["loadAirportsFromStorage","saveAirportsToStorage","generateId","prefix","arguments","length","undefined","Math","random","toString","slice","getAllCountries","searchAirports","query","q","trim","toLowerCase","data","results","forEach","country","includes","airports","a","push","_objectSpread","name","iata","addCountry","_ref","newItem","id","updateCountry","_ref2","index","findIndex","c","deleteCountry","filter","addAirportToCountry","countryId","_ref3","find","airport","toUpperCase","updateAirport","airportId","_ref4","deleteAirport"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/services/airportService.js"],"sourcesContent":["// src/services/airportService.js\r\n// Full English-only Airport CRUD service.\r\n\r\nimport {\r\n  loadAirportsFromStorage,\r\n  saveAirportsToStorage,\r\n} from \"../utils/airports\";\r\n\r\nfunction generateId(prefix = \"\") {\r\n  return prefix + Math.random().toString(36).slice(2, 9);\r\n}\r\n\r\nexport function getAllCountries() {\r\n  return loadAirportsFromStorage();\r\n}\r\n\r\nexport function searchAirports(query) {\r\n  const q = (query || \"\").trim().toLowerCase();\r\n  if (!q) return [];\r\n\r\n  const data = loadAirportsFromStorage();\r\n  const results = [];\r\n\r\n  data.forEach((country) => {\r\n    if (country.country.toLowerCase().includes(q)) {\r\n      country.airports.forEach((a) =>\r\n        results.push({ ...a, country: country.country })\r\n      );\r\n    } else {\r\n      country.airports.forEach((a) => {\r\n        if (\r\n          a.name.toLowerCase().includes(q) ||\r\n          a.iata.toLowerCase().includes(q)\r\n        ) {\r\n          results.push({ ...a, country: country.country });\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return results;\r\n}\r\n\r\nexport function addCountry({ country }) {\r\n  const data = loadAirportsFromStorage();\r\n  const newItem = { id: generateId(\"country-\"), country, airports: [] };\r\n  data.push(newItem);\r\n  saveAirportsToStorage(data);\r\n  return newItem;\r\n}\r\n\r\nexport function updateCountry(id, { country }) {\r\n  const data = loadAirportsFromStorage();\r\n  const index = data.findIndex((c) => c.id === id);\r\n  if (index === -1) return null;\r\n  data[index].country = country;\r\n  saveAirportsToStorage(data);\r\n  return data[index];\r\n}\r\n\r\nexport function deleteCountry(id) {\r\n  let data = loadAirportsFromStorage();\r\n  data = data.filter((c) => c.id !== id);\r\n  saveAirportsToStorage(data);\r\n  return true;\r\n}\r\n\r\nexport function addAirportToCountry(countryId, { name, iata }) {\r\n  const data = loadAirportsFromStorage();\r\n  const country = data.find((c) => c.id === countryId);\r\n  if (!country) return null;\r\n  const airport = { id: generateId(\"ap-\"), name, iata: iata.toUpperCase() };\r\n  country.airports.push(airport);\r\n  saveAirportsToStorage(data);\r\n  return airport;\r\n}\r\n\r\nexport function updateAirport(countryId, airportId, { name, iata }) {\r\n  const data = loadAirportsFromStorage();\r\n  const country = data.find((c) => c.id === countryId);\r\n  if (!country) return null;\r\n  const airport = country.airports.find((a) => a.id === airportId);\r\n  if (!airport) return null;\r\n  airport.name = name;\r\n  airport.iata = iata.toUpperCase();\r\n  saveAirportsToStorage(data);\r\n  return airport;\r\n}\r\n\r\nexport function deleteAirport(countryId, airportId) {\r\n  const data = loadAirportsFromStorage();\r\n  const country = data.find((c) => c.id === countryId);\r\n  if (!country) return false;\r\n  country.airports = country.airports.filter((a) => a.id !== airportId);\r\n  saveAirportsToStorage(data);\r\n  return true;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}