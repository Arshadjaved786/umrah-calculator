{"ast":null,"code":"import{useEffect,useState}from\"react\";export default function usePWAInstall(){const[prompt,setPrompt]=useState(null);const[installed,setInstalled]=useState(false);useEffect(()=>{const handler=e=>{e.preventDefault();setPrompt(e);};window.addEventListener(\"beforeinstallprompt\",handler);window.addEventListener(\"appinstalled\",()=>{setInstalled(true);setPrompt(null);});return()=>{window.removeEventListener(\"beforeinstallprompt\",handler);};},[]);const install=async()=>{if(!prompt)return;prompt.prompt();await prompt.userChoice;setPrompt(null);};return{canInstall:!!prompt&&!installed,install};}","map":{"version":3,"names":["useEffect","useState","usePWAInstall","prompt","setPrompt","installed","setInstalled","handler","e","preventDefault","window","addEventListener","removeEventListener","install","userChoice","canInstall"],"sources":["C:/Users/Taj Tech/Downloads/umrah-calculator/src/hooks/usePWAInstall.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport default function usePWAInstall() {\r\n  const [prompt, setPrompt] = useState(null);\r\n  const [installed, setInstalled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handler = (e) => {\r\n      e.preventDefault();\r\n      setPrompt(e);\r\n    };\r\n\r\n    window.addEventListener(\"beforeinstallprompt\", handler);\r\n\r\n    window.addEventListener(\"appinstalled\", () => {\r\n      setInstalled(true);\r\n      setPrompt(null);\r\n    });\r\n\r\n    return () => {\r\n      window.removeEventListener(\"beforeinstallprompt\", handler);\r\n    };\r\n  }, []);\r\n\r\n  const install = async () => {\r\n    if (!prompt) return;\r\n    prompt.prompt();\r\n    await prompt.userChoice;\r\n    setPrompt(null);\r\n  };\r\n\r\n  return {\r\n    canInstall: !!prompt && !installed,\r\n    install,\r\n  };\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,CACtC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGH,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CAEjDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAO,OAAO,CAAIC,CAAC,EAAK,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,SAAS,CAACI,CAAC,CAAC,CACd,CAAC,CAEDE,MAAM,CAACC,gBAAgB,CAAC,qBAAqB,CAAEJ,OAAO,CAAC,CAEvDG,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAE,IAAM,CAC5CL,YAAY,CAAC,IAAI,CAAC,CAClBF,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAAC,CAEF,MAAO,IAAM,CACXM,MAAM,CAACE,mBAAmB,CAAC,qBAAqB,CAAEL,OAAO,CAAC,CAC5D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CAACV,MAAM,CAAE,OACbA,MAAM,CAACA,MAAM,CAAC,CAAC,CACf,KAAM,CAAAA,MAAM,CAACW,UAAU,CACvBV,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,MAAO,CACLW,UAAU,CAAE,CAAC,CAACZ,MAAM,EAAI,CAACE,SAAS,CAClCQ,OACF,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}